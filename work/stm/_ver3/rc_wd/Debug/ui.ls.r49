   1                     ; C Compiler for STM8 (COSMIC Software)
   2                     ; Parser V4.10.21 - 04 Feb 2014
   3                     ; Generator (Limited) V4.3.12 - 11 Feb 2014
  17                     	switch	.data
  18  0000               ___s:
  19  0000 00            	dc.b	0
  20  0001               ___sUp:
  21  0001 00            	dc.b	0
  22  0002               ___sDn:
  23  0002 00            	dc.b	0
  24  0003               ___sInfo:
  25  0003 02            	dc.b	2
  26  0004               ___sRoom:
  27  0004 00            	dc.b	0
 315                     ; 11 LPUIINFO	ui_getInfo(void)
 315                     ; 12 {
 317                     	switch	.text
 318  0000               _ui_getInfo:
 322                     ; 13 	return &uiInfo;
 324  0000 ae0000        	ldw	x,#_uiInfo
 327  0003 81            	ret
 367                     ; 18 void	ui_room_clear(uint8_t id, uint8_t mode)
 367                     ; 19 {
 368                     	switch	.text
 369  0004               _ui_room_clear:
 371  0004 88            	push	a
 372       00000001      OFST:	set	1
 375                     ; 21 	for( i=0; i<8; i++ )
 377  0005 0f01          	clr	(OFST+0,sp)
 378  0007               L561:
 379                     ; 22 		uiInfo.room[i] = 0;
 381  0007 7b01          	ld	a,(OFST+0,sp)
 382  0009 5f            	clrw	x
 383  000a 97            	ld	xl,a
 384  000b 724f0012      	clr	(_uiInfo+18,x)
 385                     ; 21 	for( i=0; i<8; i++ )
 387  000f 0c01          	inc	(OFST+0,sp)
 390  0011 7b01          	ld	a,(OFST+0,sp)
 391  0013 a108          	cp	a,#8
 392  0015 25f0          	jrult	L561
 393                     ; 23 }
 396  0017 84            	pop	a
 397  0018 81            	ret
 430                     ; 25 void	ui_Open(void)
 430                     ; 26 {
 431                     	switch	.text
 432  0019               _ui_Open:
 434  0019 88            	push	a
 435       00000001      OFST:	set	1
 438                     ; 29 	for( i=0; i<8; i++ )
 440  001a 0f01          	clr	(OFST+0,sp)
 441  001c               L702:
 442                     ; 31 		if( i==4 )
 444  001c 7b01          	ld	a,(OFST+0,sp)
 445  001e a104          	cp	a,#4
 446  0020 260b          	jrne	L512
 447                     ; 32 			uiInfo.room[i] = 1;
 449  0022 7b01          	ld	a,(OFST+0,sp)
 450  0024 5f            	clrw	x
 451  0025 97            	ld	xl,a
 452  0026 a601          	ld	a,#1
 453  0028 d70012        	ld	(_uiInfo+18,x),a
 455  002b 2010          	jra	L712
 456  002d               L512:
 457                     ; 34 			uiInfo._i[i] = uiInfo.room[i] = 0;
 459  002d 7b01          	ld	a,(OFST+0,sp)
 460  002f 5f            	clrw	x
 461  0030 97            	ld	xl,a
 462  0031 724f0012      	clr	(_uiInfo+18,x)
 463  0035 7b01          	ld	a,(OFST+0,sp)
 464  0037 5f            	clrw	x
 465  0038 97            	ld	xl,a
 466  0039 724f0032      	clr	(_uiInfo+50,x)
 467  003d               L712:
 468                     ; 35 		uiInfo.valve_rc[i] = i;
 470  003d 7b01          	ld	a,(OFST+0,sp)
 471  003f 5f            	clrw	x
 472  0040 97            	ld	xl,a
 473  0041 7b01          	ld	a,(OFST+0,sp)
 474  0043 d70022        	ld	(_uiInfo+34,x),a
 475                     ; 29 	for( i=0; i<8; i++ )
 477  0046 0c01          	inc	(OFST+0,sp)
 480  0048 7b01          	ld	a,(OFST+0,sp)
 481  004a a108          	cp	a,#8
 482  004c 25ce          	jrult	L702
 483                     ; 37 	uiInfo.m[0] = 100;
 485  004e 35640003      	mov	_uiInfo+3,#100
 486                     ; 38 	uiInfo.m[1] = 90;
 488  0052 355a0004      	mov	_uiInfo+4,#90
 489                     ; 39 	uiInfo.m[2] = 80;
 491  0056 35500005      	mov	_uiInfo+5,#80
 492                     ; 40 	uiInfo.m[3] = 110;
 494  005a 356e0006      	mov	_uiInfo+6,#110
 495                     ; 41 	uiInfo.m[4] = 120;
 497  005e 35780007      	mov	_uiInfo+7,#120
 498                     ; 42 	uiInfo.m[5] = 130;
 500  0062 35820008      	mov	_uiInfo+8,#130
 501                     ; 43 	uiInfo.m[6] = 140;
 503  0066 358c0009      	mov	_uiInfo+9,#140
 504                     ; 44 	uiInfo.m[7] = 150;
 506  006a 3596000a      	mov	_uiInfo+10,#150
 507                     ; 46 	uiInfo.valve_len[0] = 100;
 509  006e 3564001a      	mov	_uiInfo+26,#100
 510                     ; 47 	uiInfo.valve_len[1] = 90;
 512  0072 355a001b      	mov	_uiInfo+27,#90
 513                     ; 48 	uiInfo.valve_len[2] = 80;
 515  0076 3550001c      	mov	_uiInfo+28,#80
 516                     ; 49 	uiInfo.valve_len[3] = 70;
 518  007a 3546001d      	mov	_uiInfo+29,#70
 519                     ; 50 	uiInfo.valve_len[4] = 60;
 521  007e 353c001e      	mov	_uiInfo+30,#60
 522                     ; 51 	uiInfo.valve_len[5] = 50;
 524  0082 3532001f      	mov	_uiInfo+31,#50
 525                     ; 52 	uiInfo.valve_len[6] = 40;
 527  0086 35280020      	mov	_uiInfo+32,#40
 528                     ; 53 	uiInfo.valve_len[7] = 35;
 530  008a 35230021      	mov	_uiInfo+33,#35
 531                     ; 55 	uiInfo.link[0] = 0x01;
 533  008e 3501002a      	mov	_uiInfo+42,#1
 534                     ; 56 	uiInfo.link[1] = 0x02;
 536  0092 3502002b      	mov	_uiInfo+43,#2
 537                     ; 57 	uiInfo.link[2] = 0x04;
 539  0096 3504002c      	mov	_uiInfo+44,#4
 540                     ; 58 	uiInfo.link[3] = 0x18;
 542  009a 3518002d      	mov	_uiInfo+45,#24
 543                     ; 59 	uiInfo.link[4] = 0x60;
 545  009e 3560002e      	mov	_uiInfo+46,#96
 546                     ; 60 	uiInfo.link[5] = 0x80;
 548  00a2 3580002f      	mov	_uiInfo+47,#128
 549                     ; 61 	uiInfo.link[6] = 0x0;
 551  00a6 725f0030      	clr	_uiInfo+48
 552                     ; 62 	uiInfo.link[7] = 0x0;
 554  00aa 725f0031      	clr	_uiInfo+49
 555                     ; 64 	uiInfo.enc = 0;
 557  00ae 725f0000      	clr	_uiInfo
 558                     ; 65 	uiInfo.id = 0;
 560  00b2 725f0001      	clr	_uiInfo+1
 561                     ; 66 	uiInfo.cnt = 2;
 563  00b6 3502000b      	mov	_uiInfo+11,#2
 564                     ; 67 	uiInfo.mode = 0;	//	0 client, 1 host
 566  00ba 725f000c      	clr	_uiInfo+12
 567                     ; 68 	uiInfo.id_rc = 0;
 569  00be 725f0002      	clr	_uiInfo+2
 570                     ; 70 	uiInfo.tOffset = 100;
 572  00c2 35640011      	mov	_uiInfo+17,#100
 573                     ; 71 	uiInfo.maxValue = 180;
 575  00c6 35b4003b      	mov	_uiInfo+59,#180
 576                     ; 72 	uiInfo.runMode = 0;	//	0 local, 1 each control
 578  00ca 725f003c      	clr	_uiInfo+60
 579                     ; 73 	uiInfo.opMode = 0;
 581  00ce 725f003e      	clr	_uiInfo+62
 582                     ; 74 	uiInfo.cntlMode = 0;	//	0 On/Off, 1 Po Mode
 584  00d2 725f003d      	clr	_uiInfo+61
 585                     ; 75 	uiInfo.houseLen = 100;	//	35 ~150
 587  00d6 3564003f      	mov	_uiInfo+63,#100
 588                     ; 76 	uiInfo.poType = 0;		//	0 xl, 1 pb, 2 pe
 590  00da 725f0040      	clr	_uiInfo+64
 591                     ; 77 	uiInfo.tempOffset = 100;	//	60~100%
 593  00de 35640042      	mov	_uiInfo+66,#100
 594                     ; 79 	uiInfo.tCurr = 51;	//	20.5
 596  00e2 3533000d      	mov	_uiInfo+13,#51
 597                     ; 80 	uiInfo.tSetup = 60;	//	30.0
 599  00e6 353c000e      	mov	_uiInfo+14,#60
 600                     ; 82 	uiInfo.repeat = 5;
 602  00ea 35050043      	mov	_uiInfo+67,#5
 603                     ; 83 	uiInfo.repeatA = 85;
 605  00ee 35550044      	mov	_uiInfo+68,#85
 606                     ; 84 	uiInfo.repeatB = 5;
 608  00f2 35050045      	mov	_uiInfo+69,#5
 609                     ; 86 	uiInfo.reserve = 24;	//	05 hour
 611  00f6 35180046      	mov	_uiInfo+70,#24
 612                     ; 88 	uiInfo.tempCurr[0] = 50;
 614  00fa 35320048      	mov	_uiInfo+72,#50
 615                     ; 89 	uiInfo.tempCurr[1] = 53;
 617  00fe 35350049      	mov	_uiInfo+73,#53
 618                     ; 90 	uiInfo.tempCurr[2] = 56;
 620  0102 3538004a      	mov	_uiInfo+74,#56
 621                     ; 91 	uiInfo.tempCurr[3] = 59;
 623  0106 353b004b      	mov	_uiInfo+75,#59
 624                     ; 92 	uiInfo.tempCurr[4] = 62;
 626  010a 353e004c      	mov	_uiInfo+76,#62
 627                     ; 93 	uiInfo.tempCurr[5] = 65;
 629  010e 3541004d      	mov	_uiInfo+77,#65
 630                     ; 94 	uiInfo.tempCurr[6] = 47;
 632  0112 352f004e      	mov	_uiInfo+78,#47
 633                     ; 95 	uiInfo.tempCurr[7] = 44;
 635  0116 352c004f      	mov	_uiInfo+79,#44
 636                     ; 97 	uiInfo.tempSetup[0] = 48;
 638  011a 35300050      	mov	_uiInfo+80,#48
 639                     ; 98 	uiInfo.tempSetup[1] = 47;
 641  011e 352f0051      	mov	_uiInfo+81,#47
 642                     ; 99 	uiInfo.tempSetup[2] = 46;
 644  0122 352e0052      	mov	_uiInfo+82,#46
 645                     ; 100 	uiInfo.tempSetup[3] = 45;
 647  0126 352d0053      	mov	_uiInfo+83,#45
 648                     ; 101 	uiInfo.tempSetup[4] = 44;
 650  012a 352c0054      	mov	_uiInfo+84,#44
 651                     ; 102 	uiInfo.tempSetup[5] = 43;
 653  012e 352b0055      	mov	_uiInfo+85,#43
 654                     ; 103 	uiInfo.tempSetup[6] = 42;
 656  0132 352a0056      	mov	_uiInfo+86,#42
 657                     ; 104 	uiInfo.tempSetup[7] = 41;
 659  0136 35290057      	mov	_uiInfo+87,#41
 660                     ; 105 }
 663  013a 84            	pop	a
 664  013b 81            	ret
 667                     .const:	section	.text
 668  0000               __keypwMaster:
 669  0000 04            	dc.b	4
 670  0001 03            	dc.b	3
 671  0002 04            	dc.b	4
 672  0003 03            	dc.b	3
 673  0004 01            	dc.b	1
 674  0005 01            	dc.b	1
 675  0006               __keypwMaster2:
 676  0006 04            	dc.b	4
 677  0007 03            	dc.b	3
 678  0008 04            	dc.b	4
 679  0009 03            	dc.b	3
 680  000a 01            	dc.b	1
 681  000b 02            	dc.b	2
 682  000c               __keypwClient:
 683  000c 04            	dc.b	4
 684  000d 03            	dc.b	3
 685  000e 04            	dc.b	4
 686  000f 03            	dc.b	3
 687  0010 01            	dc.b	1
 688  0011 03            	dc.b	3
 689                     	switch	.data
 690  0005               __keypwIndexMaster:
 691  0005 00            	dc.b	0
 692  0006               __keypwIndexMaster2:
 693  0006 00            	dc.b	0
 694  0007               __keypwIndexClient:
 695  0007 00            	dc.b	0
 696  0008               __ds:
 697  0008 64            	dc.b	100
 698  0009               __dsCount:
 699  0009 00            	dc.b	0
 700  000a               __dsPrev:
 701  000a 00            	dc.b	0
 723                     ; 120 void	clear_npos1(void)
 723                     ; 121 {
 724                     	switch	.text
 725  013c               _clear_npos1:
 729                     ; 122 	lcd_clear_npos(0, 0);
 731  013c 5f            	clrw	x
 732  013d cd0000        	call	_lcd_clear_npos
 734                     ; 123 	lcd_clear_npos(1, 0);
 736  0140 ae0100        	ldw	x,#256
 737  0143 cd0000        	call	_lcd_clear_npos
 739                     ; 124 }
 742  0146 81            	ret
 766                     ; 126 void	clear_npos2(void)
 766                     ; 127 {
 767                     	switch	.text
 768  0147               _clear_npos2:
 772                     ; 128 	lcd_clear_npos(2, 0);
 774  0147 ae0200        	ldw	x,#512
 775  014a cd0000        	call	_lcd_clear_npos
 777                     ; 129 	lcd_clear_npos(3, 0);
 779  014d ae0300        	ldw	x,#768
 780  0150 cd0000        	call	_lcd_clear_npos
 782                     ; 130 }
 785  0153 81            	ret
 837                     ; 132 void	disp_status_init(uint8_t key, uint8_t next)
 837                     ; 133 {
 838                     	switch	.text
 839  0154               _disp_status_init:
 841  0154 89            	pushw	x
 842  0155 88            	push	a
 843       00000001      OFST:	set	1
 846                     ; 135 	if( (_t20ms%10) == 0 )
 848  0156 c60000        	ld	a,__t20ms
 849  0159 5f            	clrw	x
 850  015a 97            	ld	xl,a
 851  015b a60a          	ld	a,#10
 852  015d cd0000        	call	c_smodx
 854  0160 a30000        	cpw	x,#0
 855  0163 2644          	jrne	L162
 856                     ; 137 		if( _dsPrev != 0 )
 858  0165 725d000a      	tnz	__dsPrev
 859  0169 2642          	jrne	L02
 860                     ; 138 			return;
 862                     ; 140 		_dsCount++;
 864  016b 725c0009      	inc	__dsCount
 865                     ; 141 		_dsPrev = 1;
 867  016f 3501000a      	mov	__dsPrev,#1
 868                     ; 142 		lcd_clear(0);
 870  0173 4f            	clr	a
 871  0174 cd0000        	call	_lcd_clear
 873                     ; 143 		for( i=0; i<4; i++ )
 875  0177 0f01          	clr	(OFST+0,sp)
 876  0179               L562:
 877                     ; 144 			lcd_disp_n(i, _dsCount%10);
 879  0179 c60009        	ld	a,__dsCount
 880  017c 5f            	clrw	x
 881  017d 97            	ld	xl,a
 882  017e a60a          	ld	a,#10
 883  0180 62            	div	x,a
 884  0181 5f            	clrw	x
 885  0182 97            	ld	xl,a
 886  0183 9f            	ld	a,xl
 887  0184 97            	ld	xl,a
 888  0185 7b01          	ld	a,(OFST+0,sp)
 889  0187 95            	ld	xh,a
 890  0188 cd0000        	call	_lcd_disp_n
 892                     ; 143 		for( i=0; i<4; i++ )
 894  018b 0c01          	inc	(OFST+0,sp)
 897  018d 7b01          	ld	a,(OFST+0,sp)
 898  018f a104          	cp	a,#4
 899  0191 25e6          	jrult	L562
 900                     ; 146 		if( _dsCount == 11 )
 902  0193 c60009        	ld	a,__dsCount
 903  0196 a10b          	cp	a,#11
 904  0198 2613          	jrne	L572
 905                     ; 148 			STATUS_NEXT(next);
 907  019a 7b03          	ld	a,(OFST+2,sp)
 908  019c c70008        	ld	__ds,a
 911  019f 725f0009      	clr	__dsCount
 914  01a3 35ff000a      	mov	__dsPrev,#255
 916  01a7 2004          	jra	L572
 917  01a9               L162:
 918                     ; 153 		_dsPrev = 0;
 920  01a9 725f000a      	clr	__dsPrev
 921  01ad               L572:
 922                     ; 154 }
 923  01ad               L02:
 926  01ad 5b03          	addw	sp,#3
 927  01af 81            	ret
 980                     ; 156 void	disp_status_id(uint8_t key, uint8_t next)
 980                     ; 157 {
 981                     	switch	.text
 982  01b0               _disp_status_id:
 984  01b0 89            	pushw	x
 985  01b1 88            	push	a
 986       00000001      OFST:	set	1
 989                     ; 159 	if( uiInfo.mode == 1 )
 991  01b2 c6000c        	ld	a,_uiInfo+12
 992  01b5 a101          	cp	a,#1
 993  01b7 2610          	jrne	L713
 994                     ; 162 		STATUS_NEXT(next);
 996  01b9 9f            	ld	a,xl
 997  01ba c70008        	ld	__ds,a
1000  01bd 725f0009      	clr	__dsCount
1003  01c1 35ff000a      	mov	__dsPrev,#255
1004                     ; 163 		return;
1007  01c5 ac530253      	jpf	L23
1008  01c9               L713:
1009                     ; 166 	if( _dsCount == 0 )
1011  01c9 725d0009      	tnz	__dsCount
1012  01cd 2612          	jrne	L123
1013                     ; 168 		lcd_clear(0);
1015  01cf 4f            	clr	a
1016  01d0 cd0000        	call	_lcd_clear
1018                     ; 169 		lcd_disp_setup_id();
1020  01d3 cd0000        	call	_lcd_disp_setup_id
1022                     ; 170 		_dsCount = 1;
1024  01d6 35010009      	mov	__dsCount,#1
1025                     ; 171 		uiInfo._t = uiInfo.id;
1027  01da 5500010047    	mov	_uiInfo+71,_uiInfo+1
1029  01df 2045          	jra	L323
1030  01e1               L123:
1031                     ; 176 		i = uiInfo.id;
1033  01e1 c60001        	ld	a,_uiInfo+1
1034  01e4 6b01          	ld	(OFST+0,sp),a
1035                     ; 177 		if( uiInfo.enc != 0 )
1037  01e6 725d0000      	tnz	_uiInfo
1038  01ea 2724          	jreq	L523
1039                     ; 179 			i = (i + ((uiInfo.enc & 0x40) == 0 ? 8 : 1)) % 9;
1041  01ec c60000        	ld	a,_uiInfo
1042  01ef a540          	bcp	a,#64
1043  01f1 2605          	jrne	L42
1044  01f3 ae0008        	ldw	x,#8
1045  01f6 2003          	jra	L62
1046  01f8               L42:
1047  01f8 ae0001        	ldw	x,#1
1048  01fb               L62:
1049  01fb 01            	rrwa	x,a
1050  01fc 1b01          	add	a,(OFST+0,sp)
1051  01fe 2401          	jrnc	L03
1052  0200 5c            	incw	x
1053  0201               L03:
1054  0201 02            	rlwa	x,a
1055  0202 a609          	ld	a,#9
1056  0204 cd0000        	call	c_smodx
1058  0207 01            	rrwa	x,a
1059  0208 6b01          	ld	(OFST+0,sp),a
1060  020a 02            	rlwa	x,a
1061                     ; 180 			uiInfo.id = i;
1063  020b 7b01          	ld	a,(OFST+0,sp)
1064  020d c70001        	ld	_uiInfo+1,a
1065  0210               L523:
1066                     ; 182 		if( _dsPrev != i )
1068  0210 c6000a        	ld	a,__dsPrev
1069  0213 1101          	cp	a,(OFST+0,sp)
1070  0215 270f          	jreq	L323
1071                     ; 184 			_dsPrev = i;
1073  0217 7b01          	ld	a,(OFST+0,sp)
1074  0219 c7000a        	ld	__dsPrev,a
1075                     ; 185 			lcd_disp_n(3, uiInfo.id);
1077  021c c60001        	ld	a,_uiInfo+1
1078  021f 97            	ld	xl,a
1079  0220 a603          	ld	a,#3
1080  0222 95            	ld	xh,a
1081  0223 cd0000        	call	_lcd_disp_n
1083  0226               L323:
1084                     ; 188 	if( key == 4 )		{	STATUS_NEXT(next);	}
1086  0226 7b02          	ld	a,(OFST+1,sp)
1087  0228 a104          	cp	a,#4
1088  022a 260f          	jrne	L133
1091  022c 7b03          	ld	a,(OFST+2,sp)
1092  022e c70008        	ld	__ds,a
1095  0231 725f0009      	clr	__dsCount
1098  0235 35ff000a      	mov	__dsPrev,#255
1101  0239 2018          	jra	L333
1102  023b               L133:
1103                     ; 189 	else if( key == 2 )
1105  023b 7b02          	ld	a,(OFST+1,sp)
1106  023d a102          	cp	a,#2
1107  023f 2612          	jrne	L333
1108                     ; 191 		uiInfo.id = uiInfo._t;
1110  0241 5500470001    	mov	_uiInfo+1,_uiInfo+71
1111                     ; 192 		STATUS_NEXT(next);
1113  0246 7b03          	ld	a,(OFST+2,sp)
1114  0248 c70008        	ld	__ds,a
1117  024b 725f0009      	clr	__dsCount
1120  024f 35ff000a      	mov	__dsPrev,#255
1122  0253               L333:
1123                     ; 194 }
1124  0253               L23:
1127  0253 5b03          	addw	sp,#3
1128  0255 81            	ret
1181                     ; 196 void	disp_status_cnt(uint8_t key, uint8_t next)
1181                     ; 197 {
1182                     	switch	.text
1183  0256               _disp_status_cnt:
1185  0256 89            	pushw	x
1186  0257 88            	push	a
1187       00000001      OFST:	set	1
1190                     ; 200 	STATUS_CLIENT
1192  0258 725d000c      	tnz	_uiInfo+12
1193  025c 2603          	jrne	L63
1194  025e cc02fa        	jp	L733
1195  0261               L63:
1198                     ; 201 	if( _dsCount == 0 )
1200  0261 725d0009      	tnz	__dsCount
1201  0265 2612          	jrne	L363
1202                     ; 203 		lcd_clear(0);
1204  0267 4f            	clr	a
1205  0268 cd0000        	call	_lcd_clear
1207                     ; 204 		lcd_disp_setup_cnt();
1209  026b cd0000        	call	_lcd_disp_setup_cnt
1211                     ; 205 		_dsCount = 1;
1213  026e 35010009      	mov	__dsCount,#1
1214                     ; 206 		uiInfo._t = uiInfo.cnt;
1216  0272 55000b0047    	mov	_uiInfo+71,_uiInfo+11
1218  0277 2061          	jra	L563
1219  0279               L363:
1220                     ; 210 		i = uiInfo.cnt;
1222  0279 c6000b        	ld	a,_uiInfo+11
1223  027c 6b01          	ld	(OFST+0,sp),a
1224                     ; 211 		if( uiInfo.enc != 0 )
1226  027e 725d0000      	tnz	_uiInfo
1227  0282 272a          	jreq	L763
1228                     ; 213 			if( (uiInfo.enc & 0x40) == 0 )
1230  0284 c60000        	ld	a,_uiInfo
1231  0287 a540          	bcp	a,#64
1232  0289 2610          	jrne	L173
1233                     ; 215 				if( i==1 )	i = 8;
1235  028b 7b01          	ld	a,(OFST+0,sp)
1236  028d a101          	cp	a,#1
1237  028f 2606          	jrne	L373
1240  0291 a608          	ld	a,#8
1241  0293 6b01          	ld	(OFST+0,sp),a
1243  0295 2012          	jra	L773
1244  0297               L373:
1245                     ; 217 					i--;
1247  0297 0a01          	dec	(OFST+0,sp)
1248  0299 200e          	jra	L773
1249  029b               L173:
1250                     ; 221 				if( i==8 )	i = 1;
1252  029b 7b01          	ld	a,(OFST+0,sp)
1253  029d a108          	cp	a,#8
1254  029f 2606          	jrne	L104
1257  02a1 a601          	ld	a,#1
1258  02a3 6b01          	ld	(OFST+0,sp),a
1260  02a5 2002          	jra	L773
1261  02a7               L104:
1262                     ; 223 					i++;
1264  02a7 0c01          	inc	(OFST+0,sp)
1265  02a9               L773:
1266                     ; 225 			uiInfo.cnt = i;
1268  02a9 7b01          	ld	a,(OFST+0,sp)
1269  02ab c7000b        	ld	_uiInfo+11,a
1270  02ae               L763:
1271                     ; 227 		if( _dsPrev != i )
1273  02ae c6000a        	ld	a,__dsPrev
1274  02b1 1101          	cp	a,(OFST+0,sp)
1275  02b3 2725          	jreq	L563
1276                     ; 229 			_dsPrev = i;
1278  02b5 7b01          	ld	a,(OFST+0,sp)
1279  02b7 c7000a        	ld	__dsPrev,a
1280                     ; 230 			UI_DISP_2Digit(i);
1282  02ba 7b01          	ld	a,(OFST+0,sp)
1283  02bc 5f            	clrw	x
1284  02bd 97            	ld	xl,a
1285  02be a60a          	ld	a,#10
1286  02c0 62            	div	x,a
1287  02c1 9f            	ld	a,xl
1288  02c2 97            	ld	xl,a
1289  02c3 a602          	ld	a,#2
1290  02c5 95            	ld	xh,a
1291  02c6 cd0000        	call	_lcd_disp_n
1295  02c9 7b01          	ld	a,(OFST+0,sp)
1296  02cb 5f            	clrw	x
1297  02cc 97            	ld	xl,a
1298  02cd a60a          	ld	a,#10
1299  02cf 62            	div	x,a
1300  02d0 5f            	clrw	x
1301  02d1 97            	ld	xl,a
1302  02d2 9f            	ld	a,xl
1303  02d3 97            	ld	xl,a
1304  02d4 a603          	ld	a,#3
1305  02d6 95            	ld	xh,a
1306  02d7 cd0000        	call	_lcd_disp_n
1309  02da               L563:
1310                     ; 233 	if( key == 4 )		{	STATUS_NEXT(next);	}
1312  02da 7b02          	ld	a,(OFST+1,sp)
1313  02dc a104          	cp	a,#4
1314  02de 260f          	jrne	L704
1317  02e0 7b03          	ld	a,(OFST+2,sp)
1318  02e2 c70008        	ld	__ds,a
1321  02e5 725f0009      	clr	__dsCount
1324  02e9 35ff000a      	mov	__dsPrev,#255
1327  02ed 2018          	jra	L114
1328  02ef               L704:
1329                     ; 234 	else if( key == 2 )
1331  02ef 7b02          	ld	a,(OFST+1,sp)
1332  02f1 a102          	cp	a,#2
1333  02f3 2612          	jrne	L114
1334                     ; 236 		uiInfo.cnt = uiInfo._t;
1336  02f5 550047000b    	mov	_uiInfo+11,_uiInfo+71
1337  02fa               L733:
1338                     ; 238 		STATUS_NEXT(next);
1340  02fa 7b03          	ld	a,(OFST+2,sp)
1341  02fc c70008        	ld	__ds,a
1344  02ff 725f0009      	clr	__dsCount
1347  0303 35ff000a      	mov	__dsPrev,#255
1349  0307               L114:
1350                     ; 240 }
1353  0307 5b03          	addw	sp,#3
1354  0309 81            	ret
1419                     ; 242 void	disp_status_meter(uint8_t key, uint8_t next, uint8_t prev)
1419                     ; 243 {
1420                     	switch	.text
1421  030a               _disp_status_meter:
1423  030a 89            	pushw	x
1424  030b 88            	push	a
1425       00000001      OFST:	set	1
1428                     ; 246 	STATUS_CLIENT
1430  030c 725d000c      	tnz	_uiInfo+12
1431  0310 2603          	jrne	L64
1432  0312 cc0454        	jp	L514
1433  0315               L64:
1436                     ; 247 	if( _dsCount == 0 )
1438  0315 725d0009      	tnz	__dsCount
1439  0319 2703cc03ab    	jrne	L344
1440                     ; 249 		lcd_clear(0);
1442  031e 4f            	clr	a
1443  031f cd0000        	call	_lcd_clear
1445                     ; 250 		lcd_disp_setup_m();
1447  0322 cd0000        	call	_lcd_disp_setup_m
1449                     ; 251 		for( i=0; i<8; i++ )
1451  0325 0f01          	clr	(OFST+0,sp)
1452  0327               L544:
1453                     ; 253 			if( uiInfo.room[i] == 1 )
1455  0327 7b01          	ld	a,(OFST+0,sp)
1456  0329 5f            	clrw	x
1457  032a 97            	ld	xl,a
1458  032b d60012        	ld	a,(_uiInfo+18,x)
1459  032e a101          	cp	a,#1
1460  0330 265e          	jrne	L354
1461                     ; 255 				LCD_BIT_SET(_rid[i*2]);
1463  0332 7b01          	ld	a,(OFST+0,sp)
1464  0334 5f            	clrw	x
1465  0335 97            	ld	xl,a
1466  0336 58            	sllw	x
1467  0337 d60000        	ld	a,(__rid,x)
1468  033a 5f            	clrw	x
1469  033b 97            	ld	xl,a
1470  033c d60000        	ld	a,(_iLF_DEF,x)
1471  033f 5f            	clrw	x
1472  0340 97            	ld	xl,a
1473  0341 7b01          	ld	a,(OFST+0,sp)
1474  0343 905f          	clrw	y
1475  0345 9097          	ld	yl,a
1476  0347 9058          	sllw	y
1477  0349 90d60000      	ld	a,(__rid,y)
1478  034d 905f          	clrw	y
1479  034f 9097          	ld	yl,a
1480  0351 d6540c        	ld	a,(21516,x)
1481  0354 90da0000      	or	a,(_bLF_DEF,y)
1482  0358 d7540c        	ld	(21516,x),a
1483                     ; 256 				LCD_BIT_SET(_rid[i*2+1]);
1485  035b 7b01          	ld	a,(OFST+0,sp)
1486  035d 5f            	clrw	x
1487  035e 97            	ld	xl,a
1488  035f 58            	sllw	x
1489  0360 d60001        	ld	a,(__rid+1,x)
1490  0363 5f            	clrw	x
1491  0364 97            	ld	xl,a
1492  0365 d60000        	ld	a,(_iLF_DEF,x)
1493  0368 5f            	clrw	x
1494  0369 97            	ld	xl,a
1495  036a 7b01          	ld	a,(OFST+0,sp)
1496  036c 905f          	clrw	y
1497  036e 9097          	ld	yl,a
1498  0370 9058          	sllw	y
1499  0372 90d60001      	ld	a,(__rid+1,y)
1500  0376 905f          	clrw	y
1501  0378 9097          	ld	yl,a
1502  037a d6540c        	ld	a,(21516,x)
1503  037d 90da0000      	or	a,(_bLF_DEF,y)
1504  0381 d7540c        	ld	(21516,x),a
1505                     ; 257 				lcd_blink_item(_rid[UI_RID*2]);
1507  0384 c60032        	ld	a,_uiInfo+50
1508  0387 5f            	clrw	x
1509  0388 97            	ld	xl,a
1510  0389 58            	sllw	x
1511  038a d60000        	ld	a,(__rid,x)
1512  038d cd0000        	call	_lcd_blink_item
1514  0390               L354:
1515                     ; 251 		for( i=0; i<8; i++ )
1517  0390 0c01          	inc	(OFST+0,sp)
1520  0392 7b01          	ld	a,(OFST+0,sp)
1521  0394 a108          	cp	a,#8
1522  0396 258f          	jrult	L544
1523                     ; 260 		_dsCount = 1;
1525  0398 35010009      	mov	__dsCount,#1
1526                     ; 261 		uiInfo._t = uiInfo.m[UI_RID];
1528  039c c60032        	ld	a,_uiInfo+50
1529  039f 5f            	clrw	x
1530  03a0 97            	ld	xl,a
1531  03a1 d60003        	ld	a,(_uiInfo+3,x)
1532  03a4 c70047        	ld	_uiInfo+71,a
1534  03a7 ac2e042e      	jpf	L554
1535  03ab               L344:
1536                     ; 265 		i = uiInfo.m[UI_RID];
1538  03ab c60032        	ld	a,_uiInfo+50
1539  03ae 5f            	clrw	x
1540  03af 97            	ld	xl,a
1541  03b0 d60003        	ld	a,(_uiInfo+3,x)
1542  03b3 6b01          	ld	(OFST+0,sp),a
1543                     ; 266 		if( uiInfo.enc != 0 )
1545  03b5 725d0000      	tnz	_uiInfo
1546  03b9 272b          	jreq	L754
1547                     ; 268 			if( (uiInfo.enc & 0x40) == 0 )	i--;
1549  03bb c60000        	ld	a,_uiInfo
1550  03be a540          	bcp	a,#64
1551  03c0 2604          	jrne	L164
1554  03c2 0a01          	dec	(OFST+0,sp)
1556  03c4 2002          	jra	L364
1557  03c6               L164:
1558                     ; 270 				i++;
1560  03c6 0c01          	inc	(OFST+0,sp)
1561  03c8               L364:
1562                     ; 271 			if( i >=251 )	i = 30;
1564  03c8 7b01          	ld	a,(OFST+0,sp)
1565  03ca a1fb          	cp	a,#251
1566  03cc 2504          	jrult	L564
1569  03ce a61e          	ld	a,#30
1570  03d0 6b01          	ld	(OFST+0,sp),a
1571  03d2               L564:
1572                     ; 272 			if( i < 30 )	i = 250;
1574  03d2 7b01          	ld	a,(OFST+0,sp)
1575  03d4 a11e          	cp	a,#30
1576  03d6 2404          	jruge	L764
1579  03d8 a6fa          	ld	a,#250
1580  03da 6b01          	ld	(OFST+0,sp),a
1581  03dc               L764:
1582                     ; 273 			uiInfo.m[UI_RID] = i;
1584  03dc c60032        	ld	a,_uiInfo+50
1585  03df 5f            	clrw	x
1586  03e0 97            	ld	xl,a
1587  03e1 7b01          	ld	a,(OFST+0,sp)
1588  03e3 d70003        	ld	(_uiInfo+3,x),a
1589  03e6               L754:
1590                     ; 275 		if( _dsPrev != i )
1592  03e6 c6000a        	ld	a,__dsPrev
1593  03e9 1101          	cp	a,(OFST+0,sp)
1594  03eb 2741          	jreq	L554
1595                     ; 277 			_dsPrev = i;
1597  03ed 7b01          	ld	a,(OFST+0,sp)
1598  03ef c7000a        	ld	__dsPrev,a
1599                     ; 278 			UI_DISP_3Digit(i);
1601  03f2 7b01          	ld	a,(OFST+0,sp)
1602  03f4 5f            	clrw	x
1603  03f5 97            	ld	xl,a
1604  03f6 a664          	ld	a,#100
1605  03f8 62            	div	x,a
1606  03f9 9f            	ld	a,xl
1607  03fa 97            	ld	xl,a
1608  03fb a601          	ld	a,#1
1609  03fd 95            	ld	xh,a
1610  03fe cd0000        	call	_lcd_disp_n
1614  0401 7b01          	ld	a,(OFST+0,sp)
1615  0403 5f            	clrw	x
1616  0404 97            	ld	xl,a
1617  0405 a664          	ld	a,#100
1618  0407 62            	div	x,a
1619  0408 5f            	clrw	x
1620  0409 97            	ld	xl,a
1621  040a 01            	rrwa	x,a
1622  040b 6b01          	ld	(OFST+0,sp),a
1623  040d 02            	rlwa	x,a
1626  040e 7b01          	ld	a,(OFST+0,sp)
1627  0410 5f            	clrw	x
1628  0411 97            	ld	xl,a
1629  0412 a60a          	ld	a,#10
1630  0414 62            	div	x,a
1631  0415 9f            	ld	a,xl
1632  0416 97            	ld	xl,a
1633  0417 a602          	ld	a,#2
1634  0419 95            	ld	xh,a
1635  041a cd0000        	call	_lcd_disp_n
1639  041d 7b01          	ld	a,(OFST+0,sp)
1640  041f 5f            	clrw	x
1641  0420 97            	ld	xl,a
1642  0421 a60a          	ld	a,#10
1643  0423 62            	div	x,a
1644  0424 5f            	clrw	x
1645  0425 97            	ld	xl,a
1646  0426 9f            	ld	a,xl
1647  0427 97            	ld	xl,a
1648  0428 a603          	ld	a,#3
1649  042a 95            	ld	xh,a
1650  042b cd0000        	call	_lcd_disp_n
1653  042e               L554:
1654                     ; 281 	if( key == 4 )		{	STATUS_NEXT(next);	}
1656  042e 7b02          	ld	a,(OFST+1,sp)
1657  0430 a104          	cp	a,#4
1658  0432 260f          	jrne	L374
1661  0434 7b03          	ld	a,(OFST+2,sp)
1662  0436 c70008        	ld	__ds,a
1665  0439 725f0009      	clr	__dsCount
1668  043d 35ff000a      	mov	__dsPrev,#255
1671  0441 2075          	jra	L574
1672  0443               L374:
1673                     ; 282 	else if( key == 2 )
1675  0443 7b02          	ld	a,(OFST+1,sp)
1676  0445 a102          	cp	a,#2
1677  0447 261a          	jrne	L774
1678                     ; 284 		uiInfo.m[UI_RID] = uiInfo._t;
1680  0449 c60032        	ld	a,_uiInfo+50
1681  044c 5f            	clrw	x
1682  044d 97            	ld	xl,a
1683  044e c60047        	ld	a,_uiInfo+71
1684  0451 d70003        	ld	(_uiInfo+3,x),a
1685  0454               L514:
1686                     ; 286 		STATUS_NEXT(next);
1688  0454 7b03          	ld	a,(OFST+2,sp)
1689  0456 c70008        	ld	__ds,a
1692  0459 725f0009      	clr	__dsCount
1695  045d 35ff000a      	mov	__dsPrev,#255
1698  0461 2055          	jra	L574
1699  0463               L774:
1700                     ; 288 	else if( key == 3 )
1702  0463 7b02          	ld	a,(OFST+1,sp)
1703  0465 a103          	cp	a,#3
1704  0467 262d          	jrne	L305
1705                     ; 292 		ui_room_clear(0, 0);
1707  0469 5f            	clrw	x
1708  046a cd0004        	call	_ui_room_clear
1710                     ; 293 		UI_ROOM = (UI_ROOM==0) ? 1 : 0;
1712  046d c60032        	ld	a,_uiInfo+50
1713  0470 5f            	clrw	x
1714  0471 97            	ld	xl,a
1715  0472 89            	pushw	x
1716  0473 c60032        	ld	a,_uiInfo+50
1717  0476 5f            	clrw	x
1718  0477 97            	ld	xl,a
1719  0478 724d0012      	tnz	(_uiInfo+18,x)
1720  047c 2604          	jrne	L24
1721  047e a601          	ld	a,#1
1722  0480 2001          	jra	L44
1723  0482               L24:
1724  0482 4f            	clr	a
1725  0483               L44:
1726  0483 85            	popw	x
1727  0484 d70012        	ld	(_uiInfo+18,x),a
1728                     ; 294 		STATUS_NEXT(prev);
1730  0487 7b06          	ld	a,(OFST+5,sp)
1731  0489 c70008        	ld	__ds,a
1734  048c 725f0009      	clr	__dsCount
1737  0490 35ff000a      	mov	__dsPrev,#255
1740  0494 2022          	jra	L574
1741  0496               L305:
1742                     ; 296 	else if( key == 1 )
1744  0496 7b02          	ld	a,(OFST+1,sp)
1745  0498 a101          	cp	a,#1
1746  049a 261c          	jrne	L574
1747                     ; 298 		UI_RID = (uint8_t)((UI_RID + 1) % 8);
1749  049c c60032        	ld	a,_uiInfo+50
1750  049f 5f            	clrw	x
1751  04a0 97            	ld	xl,a
1752  04a1 5c            	incw	x
1753  04a2 a608          	ld	a,#8
1754  04a4 cd0000        	call	c_smodx
1756  04a7 9f            	ld	a,xl
1757  04a8 c70032        	ld	_uiInfo+50,a
1758                     ; 299 		STATUS_NEXT(prev);
1760  04ab 7b06          	ld	a,(OFST+5,sp)
1761  04ad c70008        	ld	__ds,a
1764  04b0 725f0009      	clr	__dsCount
1767  04b4 35ff000a      	mov	__dsPrev,#255
1769  04b8               L574:
1770                     ; 301 }
1773  04b8 5b03          	addw	sp,#3
1774  04ba 81            	ret
1829                     ; 303 void	disp_status_maxValve(uint8_t key, uint8_t next)
1829                     ; 304 {
1830                     	switch	.text
1831  04bb               _disp_status_maxValve:
1833  04bb 89            	pushw	x
1834  04bc 88            	push	a
1835       00000001      OFST:	set	1
1838                     ; 307 	STATUS_CLIENT
1840  04bd 725d000c      	tnz	_uiInfo+12
1841  04c1 2603          	jrne	L25
1842  04c3 cc057b        	jp	L115
1843  04c6               L25:
1846                     ; 308 	if( _dsCount == 0 )
1848  04c6 725d0009      	tnz	__dsCount
1849  04ca 2616          	jrne	L535
1850                     ; 310 		lcd_clear(0);
1852  04cc 4f            	clr	a
1853  04cd cd0000        	call	_lcd_clear
1855                     ; 311 		lcd_disp_setup_maxValue();
1857  04d0 cd0000        	call	_lcd_disp_setup_maxValue
1859                     ; 312 		_dsCount = 1;
1861  04d3 35010009      	mov	__dsCount,#1
1862                     ; 313 		uiInfo._t = uiInfo.maxValue;
1864  04d7 55003b0047    	mov	_uiInfo+71,_uiInfo+59
1865                     ; 314 		lcd_blink_item(0);
1867  04dc 4f            	clr	a
1868  04dd cd0000        	call	_lcd_blink_item
1871  04e0 2079          	jra	L735
1872  04e2               L535:
1873                     ; 318 		i = uiInfo.maxValue;
1875  04e2 c6003b        	ld	a,_uiInfo+59
1876  04e5 6b01          	ld	(OFST+0,sp),a
1877                     ; 319 		if( uiInfo.enc != 0 )
1879  04e7 725d0000      	tnz	_uiInfo
1880  04eb 2726          	jreq	L145
1881                     ; 321 			if( (uiInfo.enc & 0x40) == 0 )	i--;
1883  04ed c60000        	ld	a,_uiInfo
1884  04f0 a540          	bcp	a,#64
1885  04f2 2604          	jrne	L345
1888  04f4 0a01          	dec	(OFST+0,sp)
1890  04f6 2002          	jra	L545
1891  04f8               L345:
1892                     ; 323 				i++;
1894  04f8 0c01          	inc	(OFST+0,sp)
1895  04fa               L545:
1896                     ; 324 			if( i < 50 )	i = 200;
1898  04fa 7b01          	ld	a,(OFST+0,sp)
1899  04fc a132          	cp	a,#50
1900  04fe 2404          	jruge	L745
1903  0500 a6c8          	ld	a,#200
1904  0502 6b01          	ld	(OFST+0,sp),a
1905  0504               L745:
1906                     ; 325 			if( i > 200 )	i = 50;
1908  0504 7b01          	ld	a,(OFST+0,sp)
1909  0506 a1c9          	cp	a,#201
1910  0508 2504          	jrult	L155
1913  050a a632          	ld	a,#50
1914  050c 6b01          	ld	(OFST+0,sp),a
1915  050e               L155:
1916                     ; 326 			uiInfo.maxValue = i;
1918  050e 7b01          	ld	a,(OFST+0,sp)
1919  0510 c7003b        	ld	_uiInfo+59,a
1920  0513               L145:
1921                     ; 328 		if( _dsPrev != i )
1923  0513 c6000a        	ld	a,__dsPrev
1924  0516 1101          	cp	a,(OFST+0,sp)
1925  0518 2741          	jreq	L735
1926                     ; 330 			_dsPrev = i;
1928  051a 7b01          	ld	a,(OFST+0,sp)
1929  051c c7000a        	ld	__dsPrev,a
1930                     ; 331 			UI_DISP_3Digit(i);
1932  051f 7b01          	ld	a,(OFST+0,sp)
1933  0521 5f            	clrw	x
1934  0522 97            	ld	xl,a
1935  0523 a664          	ld	a,#100
1936  0525 62            	div	x,a
1937  0526 9f            	ld	a,xl
1938  0527 97            	ld	xl,a
1939  0528 a601          	ld	a,#1
1940  052a 95            	ld	xh,a
1941  052b cd0000        	call	_lcd_disp_n
1945  052e 7b01          	ld	a,(OFST+0,sp)
1946  0530 5f            	clrw	x
1947  0531 97            	ld	xl,a
1948  0532 a664          	ld	a,#100
1949  0534 62            	div	x,a
1950  0535 5f            	clrw	x
1951  0536 97            	ld	xl,a
1952  0537 01            	rrwa	x,a
1953  0538 6b01          	ld	(OFST+0,sp),a
1954  053a 02            	rlwa	x,a
1957  053b 7b01          	ld	a,(OFST+0,sp)
1958  053d 5f            	clrw	x
1959  053e 97            	ld	xl,a
1960  053f a60a          	ld	a,#10
1961  0541 62            	div	x,a
1962  0542 9f            	ld	a,xl
1963  0543 97            	ld	xl,a
1964  0544 a602          	ld	a,#2
1965  0546 95            	ld	xh,a
1966  0547 cd0000        	call	_lcd_disp_n
1970  054a 7b01          	ld	a,(OFST+0,sp)
1971  054c 5f            	clrw	x
1972  054d 97            	ld	xl,a
1973  054e a60a          	ld	a,#10
1974  0550 62            	div	x,a
1975  0551 5f            	clrw	x
1976  0552 97            	ld	xl,a
1977  0553 9f            	ld	a,xl
1978  0554 97            	ld	xl,a
1979  0555 a603          	ld	a,#3
1980  0557 95            	ld	xh,a
1981  0558 cd0000        	call	_lcd_disp_n
1984  055b               L735:
1985                     ; 334 	if( key == 4 )		{	STATUS_NEXT(next);	}
1987  055b 7b02          	ld	a,(OFST+1,sp)
1988  055d a104          	cp	a,#4
1989  055f 260f          	jrne	L555
1992  0561 7b03          	ld	a,(OFST+2,sp)
1993  0563 c70008        	ld	__ds,a
1996  0566 725f0009      	clr	__dsCount
1999  056a 35ff000a      	mov	__dsPrev,#255
2002  056e 2018          	jra	L755
2003  0570               L555:
2004                     ; 335 	else if( key == 2 )
2006  0570 7b02          	ld	a,(OFST+1,sp)
2007  0572 a102          	cp	a,#2
2008  0574 2612          	jrne	L755
2009                     ; 337 		uiInfo.maxValue = uiInfo._t;
2011  0576 550047003b    	mov	_uiInfo+59,_uiInfo+71
2012  057b               L115:
2013                     ; 339 		STATUS_NEXT(next);
2015  057b 7b03          	ld	a,(OFST+2,sp)
2016  057d c70008        	ld	__ds,a
2019  0580 725f0009      	clr	__dsCount
2022  0584 35ff000a      	mov	__dsPrev,#255
2024  0588               L755:
2025                     ; 341 }
2028  0588 5b03          	addw	sp,#3
2029  058a 81            	ret
2093                     ; 377 void	disp_status_toffset(uint8_t key, uint8_t next)
2093                     ; 378 {
2094                     	switch	.text
2095  058b               _disp_status_toffset:
2097  058b 89            	pushw	x
2098  058c 88            	push	a
2099       00000001      OFST:	set	1
2102                     ; 380 	if( _dsCount == 0 )
2104  058d 725d0009      	tnz	__dsCount
2105  0591 2614          	jrne	L506
2106                     ; 382 		lcd_clear(0);
2108  0593 4f            	clr	a
2109  0594 cd0000        	call	_lcd_clear
2111                     ; 383 		lcd_disp_setup_c();
2113  0597 cd0000        	call	_lcd_disp_setup_c
2115                     ; 384 		_dsCount = 1;
2117  059a 35010009      	mov	__dsCount,#1
2118                     ; 385 		uiInfo._t = uiInfo.tOffset;
2120  059e 5500110047    	mov	_uiInfo+71,_uiInfo+17
2122  05a3 ac820682      	jpf	L706
2123  05a7               L506:
2124                     ; 389 		i = uiInfo.tOffset;
2126  05a7 c60011        	ld	a,_uiInfo+17
2127  05aa 6b01          	ld	(OFST+0,sp),a
2128                     ; 390 		if( uiInfo.enc != 0 )
2130  05ac 725d0000      	tnz	_uiInfo
2131  05b0 2752          	jreq	L116
2132                     ; 392 			if( (uiInfo.enc & 0x40) == 0 )
2134  05b2 c60000        	ld	a,_uiInfo
2135  05b5 a540          	bcp	a,#64
2136  05b7 2624          	jrne	L316
2137                     ; 394 				if( i > 100 )			i--;
2139  05b9 7b01          	ld	a,(OFST+0,sp)
2140  05bb a165          	cp	a,#101
2141  05bd 2504          	jrult	L516
2144  05bf 0a01          	dec	(OFST+0,sp)
2146  05c1 203c          	jra	L726
2147  05c3               L516:
2148                     ; 395 				else if( i == 100 )		i = 1;
2150  05c3 7b01          	ld	a,(OFST+0,sp)
2151  05c5 a164          	cp	a,#100
2152  05c7 2606          	jrne	L126
2155  05c9 a601          	ld	a,#1
2156  05cb 6b01          	ld	(OFST+0,sp),a
2158  05cd 2030          	jra	L726
2159  05cf               L126:
2160                     ; 398 					i++;
2162  05cf 0c01          	inc	(OFST+0,sp)
2163                     ; 399 					if( i >= 19 )		i = 19;
2165  05d1 7b01          	ld	a,(OFST+0,sp)
2166  05d3 a113          	cp	a,#19
2167  05d5 2528          	jrult	L726
2170  05d7 a613          	ld	a,#19
2171  05d9 6b01          	ld	(OFST+0,sp),a
2172  05db 2022          	jra	L726
2173  05dd               L316:
2174                     ; 404 				if( i >= 100 )
2176  05dd 7b01          	ld	a,(OFST+0,sp)
2177  05df a164          	cp	a,#100
2178  05e1 250e          	jrult	L136
2179                     ; 406 					i++;
2181  05e3 0c01          	inc	(OFST+0,sp)
2182                     ; 407 					if( i >= 119 )		i = 119;
2184  05e5 7b01          	ld	a,(OFST+0,sp)
2185  05e7 a177          	cp	a,#119
2186  05e9 2514          	jrult	L726
2189  05eb a677          	ld	a,#119
2190  05ed 6b01          	ld	(OFST+0,sp),a
2191  05ef 200e          	jra	L726
2192  05f1               L136:
2193                     ; 411 					if( i == 1 )		i = 100;
2195  05f1 7b01          	ld	a,(OFST+0,sp)
2196  05f3 a101          	cp	a,#1
2197  05f5 2606          	jrne	L736
2200  05f7 a664          	ld	a,#100
2201  05f9 6b01          	ld	(OFST+0,sp),a
2203  05fb 2002          	jra	L726
2204  05fd               L736:
2205                     ; 413 						i--;
2207  05fd 0a01          	dec	(OFST+0,sp)
2208  05ff               L726:
2209                     ; 416 			uiInfo.tOffset = i;
2211  05ff 7b01          	ld	a,(OFST+0,sp)
2212  0601 c70011        	ld	_uiInfo+17,a
2213  0604               L116:
2214                     ; 418 		if( _dsPrev != i )
2216  0604 c6000a        	ld	a,__dsPrev
2217  0607 1101          	cp	a,(OFST+0,sp)
2218  0609 2777          	jreq	L706
2219                     ; 420 			_dsPrev = i;
2221  060b 7b01          	ld	a,(OFST+0,sp)
2222  060d c7000a        	ld	__dsPrev,a
2223                     ; 421 			clear_npos2();
2225  0610 cd0147        	call	_clear_npos2
2227                     ; 422 			LCD_BIT_CLEAR(bT3);
2229  0613 c6003b        	ld	a,_iLF_DEF+59
2230  0616 5f            	clrw	x
2231  0617 97            	ld	xl,a
2232  0618 c6003b        	ld	a,_bLF_DEF+59
2233  061b 43            	cpl	a
2234  061c d4540c        	and	a,(21516,x)
2235  061f d7540c        	ld	(21516,x),a
2236                     ; 423 			LCD_BIT_CLEAR(bT4);
2238  0622 c6002b        	ld	a,_iLF_DEF+43
2239  0625 5f            	clrw	x
2240  0626 97            	ld	xl,a
2241  0627 c6002b        	ld	a,_bLF_DEF+43
2242  062a 43            	cpl	a
2243  062b d4540c        	and	a,(21516,x)
2244  062e d7540c        	ld	(21516,x),a
2245                     ; 424 			if( i < 100 )
2247  0631 7b01          	ld	a,(OFST+0,sp)
2248  0633 a164          	cp	a,#100
2249  0635 240e          	jruge	L546
2250                     ; 425 				LCD_BIT_SET(b3G);
2252  0637 c60028        	ld	a,_iLF_DEF+40
2253  063a 5f            	clrw	x
2254  063b 97            	ld	xl,a
2255  063c d6540c        	ld	a,(21516,x)
2256  063f ca0028        	or	a,_bLF_DEF+40
2257  0642 d7540c        	ld	(21516,x),a
2258  0645               L546:
2259                     ; 426 			j = i%100;
2261  0645 7b01          	ld	a,(OFST+0,sp)
2262  0647 5f            	clrw	x
2263  0648 97            	ld	xl,a
2264  0649 a664          	ld	a,#100
2265  064b 62            	div	x,a
2266  064c 5f            	clrw	x
2267  064d 97            	ld	xl,a
2268  064e 9f            	ld	a,xl
2269  064f 6b01          	ld	(OFST+0,sp),a
2270                     ; 427 			lcd_disp_n(3, j/2);
2272  0651 7b01          	ld	a,(OFST+0,sp)
2273  0653 5f            	clrw	x
2274  0654 97            	ld	xl,a
2275  0655 57            	sraw	x
2276  0656 9f            	ld	a,xl
2277  0657 97            	ld	xl,a
2278  0658 a603          	ld	a,#3
2279  065a 95            	ld	xh,a
2280  065b cd0000        	call	_lcd_disp_n
2282                     ; 428 			if( (j%2) == 1 )
2284  065e 7b01          	ld	a,(OFST+0,sp)
2285  0660 a401          	and	a,#1
2286  0662 a101          	cp	a,#1
2287  0664 261c          	jrne	L706
2288                     ; 430 				LCD_BIT_SET(bT3);
2290  0666 c6003b        	ld	a,_iLF_DEF+59
2291  0669 5f            	clrw	x
2292  066a 97            	ld	xl,a
2293  066b d6540c        	ld	a,(21516,x)
2294  066e ca003b        	or	a,_bLF_DEF+59
2295  0671 d7540c        	ld	(21516,x),a
2296                     ; 431 				LCD_BIT_SET(bT4);
2298  0674 c6002b        	ld	a,_iLF_DEF+43
2299  0677 5f            	clrw	x
2300  0678 97            	ld	xl,a
2301  0679 d6540c        	ld	a,(21516,x)
2302  067c ca002b        	or	a,_bLF_DEF+43
2303  067f d7540c        	ld	(21516,x),a
2304  0682               L706:
2305                     ; 435 	if( key == 4 )		{	STATUS_NEXT(next);	}
2307  0682 7b02          	ld	a,(OFST+1,sp)
2308  0684 a104          	cp	a,#4
2309  0686 260f          	jrne	L156
2312  0688 7b03          	ld	a,(OFST+2,sp)
2313  068a c70008        	ld	__ds,a
2316  068d 725f0009      	clr	__dsCount
2319  0691 35ff000a      	mov	__dsPrev,#255
2322  0695 2018          	jra	L356
2323  0697               L156:
2324                     ; 436 	else if( key == 2 )
2326  0697 7b02          	ld	a,(OFST+1,sp)
2327  0699 a102          	cp	a,#2
2328  069b 2612          	jrne	L356
2329                     ; 438 		uiInfo.tOffset = uiInfo._t;
2331  069d 5500470011    	mov	_uiInfo+17,_uiInfo+71
2332                     ; 439 		STATUS_NEXT(next);
2334  06a2 7b03          	ld	a,(OFST+2,sp)
2335  06a4 c70008        	ld	__ds,a
2338  06a7 725f0009      	clr	__dsCount
2341  06ab 35ff000a      	mov	__dsPrev,#255
2343  06af               L356:
2344                     ; 441 }
2347  06af 5b03          	addw	sp,#3
2348  06b1 81            	ret
2413                     ; 443 void	disp_status_link(uint8_t key, uint8_t next, uint8_t prev)
2413                     ; 444 {
2414                     	switch	.text
2415  06b2               _disp_status_link:
2417  06b2 89            	pushw	x
2418  06b3 88            	push	a
2419       00000001      OFST:	set	1
2422                     ; 447 	STATUS_CLIENT
2424  06b4 725d000c      	tnz	_uiInfo+12
2425  06b8 2603          	jrne	L06
2426  06ba cc0bae        	jp	L756
2427  06bd               L06:
2430                     ; 448 	if( _dsCount == 0 )
2432  06bd 725d0009      	tnz	__dsCount
2433  06c1 2703          	jreq	L26
2434  06c3 cc0912        	jp	L507
2435  06c6               L26:
2436                     ; 450 		lcd_clear(0);
2438  06c6 4f            	clr	a
2439  06c7 cd0000        	call	_lcd_clear
2441                     ; 451 		lcd_disp_setup_link();
2443  06ca cd0000        	call	_lcd_disp_setup_link
2445                     ; 454 		i = UI_LNBASE;
2447  06cd c60034        	ld	a,_uiInfo+52
2448  06d0 6b01          	ld	(OFST+0,sp),a
2449                     ; 455 			if( (uiInfo.link[i] & 0x01) != 0 )		{	UI_LN_SET(0);	}
2451  06d2 7b01          	ld	a,(OFST+0,sp)
2452  06d4 5f            	clrw	x
2453  06d5 97            	ld	xl,a
2454  06d6 d6002a        	ld	a,(_uiInfo+42,x)
2455  06d9 a501          	bcp	a,#1
2456  06db 273a          	jreq	L707
2459  06dd c60000        	ld	a,__rid
2460  06e0 5f            	clrw	x
2461  06e1 97            	ld	xl,a
2462  06e2 d60000        	ld	a,(_iLF_DEF,x)
2463  06e5 5f            	clrw	x
2464  06e6 97            	ld	xl,a
2465  06e7 c60000        	ld	a,__rid
2466  06ea 905f          	clrw	y
2467  06ec 9097          	ld	yl,a
2468  06ee d6540c        	ld	a,(21516,x)
2469  06f1 90da0000      	or	a,(_bLF_DEF,y)
2470  06f5 d7540c        	ld	(21516,x),a
2473  06f8 c60001        	ld	a,__rid+1
2474  06fb 5f            	clrw	x
2475  06fc 97            	ld	xl,a
2476  06fd d60000        	ld	a,(_iLF_DEF,x)
2477  0700 5f            	clrw	x
2478  0701 97            	ld	xl,a
2479  0702 c60001        	ld	a,__rid+1
2480  0705 905f          	clrw	y
2481  0707 9097          	ld	yl,a
2482  0709 d6540c        	ld	a,(21516,x)
2483  070c 90da0000      	or	a,(_bLF_DEF,y)
2484  0710 d7540c        	ld	(21516,x),a
2487  0713 acf308f3      	jpf	L117
2488  0717               L707:
2489                     ; 456 			else if( (uiInfo.link[i] & 0x02) != 0 )	{	UI_LN_SET(1);	}
2491  0717 7b01          	ld	a,(OFST+0,sp)
2492  0719 5f            	clrw	x
2493  071a 97            	ld	xl,a
2494  071b d6002a        	ld	a,(_uiInfo+42,x)
2495  071e a502          	bcp	a,#2
2496  0720 273a          	jreq	L317
2499  0722 c60002        	ld	a,__rid+2
2500  0725 5f            	clrw	x
2501  0726 97            	ld	xl,a
2502  0727 d60000        	ld	a,(_iLF_DEF,x)
2503  072a 5f            	clrw	x
2504  072b 97            	ld	xl,a
2505  072c c60002        	ld	a,__rid+2
2506  072f 905f          	clrw	y
2507  0731 9097          	ld	yl,a
2508  0733 d6540c        	ld	a,(21516,x)
2509  0736 90da0000      	or	a,(_bLF_DEF,y)
2510  073a d7540c        	ld	(21516,x),a
2513  073d c60003        	ld	a,__rid+3
2514  0740 5f            	clrw	x
2515  0741 97            	ld	xl,a
2516  0742 d60000        	ld	a,(_iLF_DEF,x)
2517  0745 5f            	clrw	x
2518  0746 97            	ld	xl,a
2519  0747 c60003        	ld	a,__rid+3
2520  074a 905f          	clrw	y
2521  074c 9097          	ld	yl,a
2522  074e d6540c        	ld	a,(21516,x)
2523  0751 90da0000      	or	a,(_bLF_DEF,y)
2524  0755 d7540c        	ld	(21516,x),a
2527  0758 acf308f3      	jpf	L117
2528  075c               L317:
2529                     ; 457 			else if( (uiInfo.link[i] & 0x04) != 0 )	{	UI_LN_SET(2);	}
2531  075c 7b01          	ld	a,(OFST+0,sp)
2532  075e 5f            	clrw	x
2533  075f 97            	ld	xl,a
2534  0760 d6002a        	ld	a,(_uiInfo+42,x)
2535  0763 a504          	bcp	a,#4
2536  0765 273a          	jreq	L717
2539  0767 c60004        	ld	a,__rid+4
2540  076a 5f            	clrw	x
2541  076b 97            	ld	xl,a
2542  076c d60000        	ld	a,(_iLF_DEF,x)
2543  076f 5f            	clrw	x
2544  0770 97            	ld	xl,a
2545  0771 c60004        	ld	a,__rid+4
2546  0774 905f          	clrw	y
2547  0776 9097          	ld	yl,a
2548  0778 d6540c        	ld	a,(21516,x)
2549  077b 90da0000      	or	a,(_bLF_DEF,y)
2550  077f d7540c        	ld	(21516,x),a
2553  0782 c60005        	ld	a,__rid+5
2554  0785 5f            	clrw	x
2555  0786 97            	ld	xl,a
2556  0787 d60000        	ld	a,(_iLF_DEF,x)
2557  078a 5f            	clrw	x
2558  078b 97            	ld	xl,a
2559  078c c60005        	ld	a,__rid+5
2560  078f 905f          	clrw	y
2561  0791 9097          	ld	yl,a
2562  0793 d6540c        	ld	a,(21516,x)
2563  0796 90da0000      	or	a,(_bLF_DEF,y)
2564  079a d7540c        	ld	(21516,x),a
2567  079d acf308f3      	jpf	L117
2568  07a1               L717:
2569                     ; 458 			else if( (uiInfo.link[i] & 0x08) != 0 )	{	UI_LN_SET(3);	}
2571  07a1 7b01          	ld	a,(OFST+0,sp)
2572  07a3 5f            	clrw	x
2573  07a4 97            	ld	xl,a
2574  07a5 d6002a        	ld	a,(_uiInfo+42,x)
2575  07a8 a508          	bcp	a,#8
2576  07aa 273a          	jreq	L327
2579  07ac c60006        	ld	a,__rid+6
2580  07af 5f            	clrw	x
2581  07b0 97            	ld	xl,a
2582  07b1 d60000        	ld	a,(_iLF_DEF,x)
2583  07b4 5f            	clrw	x
2584  07b5 97            	ld	xl,a
2585  07b6 c60006        	ld	a,__rid+6
2586  07b9 905f          	clrw	y
2587  07bb 9097          	ld	yl,a
2588  07bd d6540c        	ld	a,(21516,x)
2589  07c0 90da0000      	or	a,(_bLF_DEF,y)
2590  07c4 d7540c        	ld	(21516,x),a
2593  07c7 c60007        	ld	a,__rid+7
2594  07ca 5f            	clrw	x
2595  07cb 97            	ld	xl,a
2596  07cc d60000        	ld	a,(_iLF_DEF,x)
2597  07cf 5f            	clrw	x
2598  07d0 97            	ld	xl,a
2599  07d1 c60007        	ld	a,__rid+7
2600  07d4 905f          	clrw	y
2601  07d6 9097          	ld	yl,a
2602  07d8 d6540c        	ld	a,(21516,x)
2603  07db 90da0000      	or	a,(_bLF_DEF,y)
2604  07df d7540c        	ld	(21516,x),a
2607  07e2 acf308f3      	jpf	L117
2608  07e6               L327:
2609                     ; 459 			else if( (uiInfo.link[i] & 0x10) != 0 )	{	UI_LN_SET(4);	}
2611  07e6 7b01          	ld	a,(OFST+0,sp)
2612  07e8 5f            	clrw	x
2613  07e9 97            	ld	xl,a
2614  07ea d6002a        	ld	a,(_uiInfo+42,x)
2615  07ed a510          	bcp	a,#16
2616  07ef 273a          	jreq	L727
2619  07f1 c60008        	ld	a,__rid+8
2620  07f4 5f            	clrw	x
2621  07f5 97            	ld	xl,a
2622  07f6 d60000        	ld	a,(_iLF_DEF,x)
2623  07f9 5f            	clrw	x
2624  07fa 97            	ld	xl,a
2625  07fb c60008        	ld	a,__rid+8
2626  07fe 905f          	clrw	y
2627  0800 9097          	ld	yl,a
2628  0802 d6540c        	ld	a,(21516,x)
2629  0805 90da0000      	or	a,(_bLF_DEF,y)
2630  0809 d7540c        	ld	(21516,x),a
2633  080c c60009        	ld	a,__rid+9
2634  080f 5f            	clrw	x
2635  0810 97            	ld	xl,a
2636  0811 d60000        	ld	a,(_iLF_DEF,x)
2637  0814 5f            	clrw	x
2638  0815 97            	ld	xl,a
2639  0816 c60009        	ld	a,__rid+9
2640  0819 905f          	clrw	y
2641  081b 9097          	ld	yl,a
2642  081d d6540c        	ld	a,(21516,x)
2643  0820 90da0000      	or	a,(_bLF_DEF,y)
2644  0824 d7540c        	ld	(21516,x),a
2647  0827 acf308f3      	jpf	L117
2648  082b               L727:
2649                     ; 460 			else if( (uiInfo.link[i] & 0x20) != 0 )	{	UI_LN_SET(5);	}
2651  082b 7b01          	ld	a,(OFST+0,sp)
2652  082d 5f            	clrw	x
2653  082e 97            	ld	xl,a
2654  082f d6002a        	ld	a,(_uiInfo+42,x)
2655  0832 a520          	bcp	a,#32
2656  0834 2739          	jreq	L337
2659  0836 c6000a        	ld	a,__rid+10
2660  0839 5f            	clrw	x
2661  083a 97            	ld	xl,a
2662  083b d60000        	ld	a,(_iLF_DEF,x)
2663  083e 5f            	clrw	x
2664  083f 97            	ld	xl,a
2665  0840 c6000a        	ld	a,__rid+10
2666  0843 905f          	clrw	y
2667  0845 9097          	ld	yl,a
2668  0847 d6540c        	ld	a,(21516,x)
2669  084a 90da0000      	or	a,(_bLF_DEF,y)
2670  084e d7540c        	ld	(21516,x),a
2673  0851 c6000b        	ld	a,__rid+11
2674  0854 5f            	clrw	x
2675  0855 97            	ld	xl,a
2676  0856 d60000        	ld	a,(_iLF_DEF,x)
2677  0859 5f            	clrw	x
2678  085a 97            	ld	xl,a
2679  085b c6000b        	ld	a,__rid+11
2680  085e 905f          	clrw	y
2681  0860 9097          	ld	yl,a
2682  0862 d6540c        	ld	a,(21516,x)
2683  0865 90da0000      	or	a,(_bLF_DEF,y)
2684  0869 d7540c        	ld	(21516,x),a
2687  086c cc08f3        	jra	L117
2688  086f               L337:
2689                     ; 461 			else if( (uiInfo.link[i] & 0x40) != 0 )	{	UI_LN_SET(6);	}
2691  086f 7b01          	ld	a,(OFST+0,sp)
2692  0871 5f            	clrw	x
2693  0872 97            	ld	xl,a
2694  0873 d6002a        	ld	a,(_uiInfo+42,x)
2695  0876 a540          	bcp	a,#64
2696  0878 2738          	jreq	L737
2699  087a c6000c        	ld	a,__rid+12
2700  087d 5f            	clrw	x
2701  087e 97            	ld	xl,a
2702  087f d60000        	ld	a,(_iLF_DEF,x)
2703  0882 5f            	clrw	x
2704  0883 97            	ld	xl,a
2705  0884 c6000c        	ld	a,__rid+12
2706  0887 905f          	clrw	y
2707  0889 9097          	ld	yl,a
2708  088b d6540c        	ld	a,(21516,x)
2709  088e 90da0000      	or	a,(_bLF_DEF,y)
2710  0892 d7540c        	ld	(21516,x),a
2713  0895 c6000d        	ld	a,__rid+13
2714  0898 5f            	clrw	x
2715  0899 97            	ld	xl,a
2716  089a d60000        	ld	a,(_iLF_DEF,x)
2717  089d 5f            	clrw	x
2718  089e 97            	ld	xl,a
2719  089f c6000d        	ld	a,__rid+13
2720  08a2 905f          	clrw	y
2721  08a4 9097          	ld	yl,a
2722  08a6 d6540c        	ld	a,(21516,x)
2723  08a9 90da0000      	or	a,(_bLF_DEF,y)
2724  08ad d7540c        	ld	(21516,x),a
2727  08b0 2041          	jra	L117
2728  08b2               L737:
2729                     ; 462 			else if( (uiInfo.link[i] & 0x80) != 0 )	{	UI_LN_SET(7);	}
2731  08b2 7b01          	ld	a,(OFST+0,sp)
2732  08b4 5f            	clrw	x
2733  08b5 97            	ld	xl,a
2734  08b6 d6002a        	ld	a,(_uiInfo+42,x)
2735  08b9 a580          	bcp	a,#128
2736  08bb 2736          	jreq	L117
2739  08bd c6000e        	ld	a,__rid+14
2740  08c0 5f            	clrw	x
2741  08c1 97            	ld	xl,a
2742  08c2 d60000        	ld	a,(_iLF_DEF,x)
2743  08c5 5f            	clrw	x
2744  08c6 97            	ld	xl,a
2745  08c7 c6000e        	ld	a,__rid+14
2746  08ca 905f          	clrw	y
2747  08cc 9097          	ld	yl,a
2748  08ce d6540c        	ld	a,(21516,x)
2749  08d1 90da0000      	or	a,(_bLF_DEF,y)
2750  08d5 d7540c        	ld	(21516,x),a
2753  08d8 c6000f        	ld	a,__rid+15
2754  08db 5f            	clrw	x
2755  08dc 97            	ld	xl,a
2756  08dd d60000        	ld	a,(_iLF_DEF,x)
2757  08e0 5f            	clrw	x
2758  08e1 97            	ld	xl,a
2759  08e2 c6000f        	ld	a,__rid+15
2760  08e5 905f          	clrw	y
2761  08e7 9097          	ld	yl,a
2762  08e9 d6540c        	ld	a,(21516,x)
2763  08ec 90da0000      	or	a,(_bLF_DEF,y)
2764  08f0 d7540c        	ld	(21516,x),a
2766  08f3               L117:
2767                     ; 464 		_dsCount = 1;
2769  08f3 35010009      	mov	__dsCount,#1
2770                     ; 465 		uiInfo._t = UI_LN;
2772  08f7 c60033        	ld	a,_uiInfo+51
2773  08fa 5f            	clrw	x
2774  08fb 97            	ld	xl,a
2775  08fc d6002a        	ld	a,(_uiInfo+42,x)
2776  08ff c70047        	ld	_uiInfo+71,a
2777                     ; 466 		lcd_blink_item(_rid[UI_LNID*2]);
2779  0902 c60033        	ld	a,_uiInfo+51
2780  0905 5f            	clrw	x
2781  0906 97            	ld	xl,a
2782  0907 58            	sllw	x
2783  0908 d60000        	ld	a,(__rid,x)
2784  090b cd0000        	call	_lcd_blink_item
2787  090e ac860b86      	jpf	L547
2788  0912               L507:
2789                     ; 482 		i = UI_LNBASE;
2791  0912 c60034        	ld	a,_uiInfo+52
2792  0915 6b01          	ld	(OFST+0,sp),a
2793                     ; 483 		if( uiInfo.enc != 0 )
2795  0917 725d0000      	tnz	_uiInfo
2796  091b 272c          	jreq	L747
2797                     ; 485 			if( (uiInfo.enc & 0x40) == 0 )
2799  091d c60000        	ld	a,_uiInfo
2800  0920 a540          	bcp	a,#64
2801  0922 2612          	jrne	L157
2802                     ; 486 				i = (i - 1 + 8) % 8;
2804  0924 7b01          	ld	a,(OFST+0,sp)
2805  0926 5f            	clrw	x
2806  0927 97            	ld	xl,a
2807  0928 1c0007        	addw	x,#7
2808  092b a608          	ld	a,#8
2809  092d cd0000        	call	c_smodx
2811  0930 01            	rrwa	x,a
2812  0931 6b01          	ld	(OFST+0,sp),a
2813  0933 02            	rlwa	x,a
2815  0934 200e          	jra	L357
2816  0936               L157:
2817                     ; 488 				i = (i + 1) % 8;
2819  0936 7b01          	ld	a,(OFST+0,sp)
2820  0938 5f            	clrw	x
2821  0939 97            	ld	xl,a
2822  093a 5c            	incw	x
2823  093b a608          	ld	a,#8
2824  093d cd0000        	call	c_smodx
2826  0940 01            	rrwa	x,a
2827  0941 6b01          	ld	(OFST+0,sp),a
2828  0943 02            	rlwa	x,a
2829  0944               L357:
2830                     ; 489 			UI_LNBASE = i;
2832  0944 7b01          	ld	a,(OFST+0,sp)
2833  0946 c70034        	ld	_uiInfo+52,a
2834  0949               L747:
2835                     ; 491 		if( _dsPrev != i )
2837  0949 c6000a        	ld	a,__dsPrev
2838  094c 1101          	cp	a,(OFST+0,sp)
2839  094e 2603          	jrne	L46
2840  0950 cc0b86        	jp	L547
2841  0953               L46:
2842                     ; 493 			_dsPrev = i;
2844  0953 7b01          	ld	a,(OFST+0,sp)
2845  0955 c7000a        	ld	__dsPrev,a
2846                     ; 494 			lcd_disp_n(3, i);
2848  0958 7b01          	ld	a,(OFST+0,sp)
2849  095a 97            	ld	xl,a
2850  095b a603          	ld	a,#3
2851  095d 95            	ld	xh,a
2852  095e cd0000        	call	_lcd_disp_n
2854                     ; 495 			ui_room_clear(0, 0);
2856  0961 5f            	clrw	x
2857  0962 cd0004        	call	_ui_room_clear
2859                     ; 496 			if( (uiInfo.link[i] & 0x01) != 0 )		{	UI_LN_SET(0);	}
2861  0965 7b01          	ld	a,(OFST+0,sp)
2862  0967 5f            	clrw	x
2863  0968 97            	ld	xl,a
2864  0969 d6002a        	ld	a,(_uiInfo+42,x)
2865  096c a501          	bcp	a,#1
2866  096e 273a          	jreq	L757
2869  0970 c60000        	ld	a,__rid
2870  0973 5f            	clrw	x
2871  0974 97            	ld	xl,a
2872  0975 d60000        	ld	a,(_iLF_DEF,x)
2873  0978 5f            	clrw	x
2874  0979 97            	ld	xl,a
2875  097a c60000        	ld	a,__rid
2876  097d 905f          	clrw	y
2877  097f 9097          	ld	yl,a
2878  0981 d6540c        	ld	a,(21516,x)
2879  0984 90da0000      	or	a,(_bLF_DEF,y)
2880  0988 d7540c        	ld	(21516,x),a
2883  098b c60001        	ld	a,__rid+1
2884  098e 5f            	clrw	x
2885  098f 97            	ld	xl,a
2886  0990 d60000        	ld	a,(_iLF_DEF,x)
2887  0993 5f            	clrw	x
2888  0994 97            	ld	xl,a
2889  0995 c60001        	ld	a,__rid+1
2890  0998 905f          	clrw	y
2891  099a 9097          	ld	yl,a
2892  099c d6540c        	ld	a,(21516,x)
2893  099f 90da0000      	or	a,(_bLF_DEF,y)
2894  09a3 d7540c        	ld	(21516,x),a
2897  09a6 ac860b86      	jpf	L547
2898  09aa               L757:
2899                     ; 497 			else if( (uiInfo.link[i] & 0x02) != 0 )	{	UI_LN_SET(1);	}
2901  09aa 7b01          	ld	a,(OFST+0,sp)
2902  09ac 5f            	clrw	x
2903  09ad 97            	ld	xl,a
2904  09ae d6002a        	ld	a,(_uiInfo+42,x)
2905  09b1 a502          	bcp	a,#2
2906  09b3 273a          	jreq	L367
2909  09b5 c60002        	ld	a,__rid+2
2910  09b8 5f            	clrw	x
2911  09b9 97            	ld	xl,a
2912  09ba d60000        	ld	a,(_iLF_DEF,x)
2913  09bd 5f            	clrw	x
2914  09be 97            	ld	xl,a
2915  09bf c60002        	ld	a,__rid+2
2916  09c2 905f          	clrw	y
2917  09c4 9097          	ld	yl,a
2918  09c6 d6540c        	ld	a,(21516,x)
2919  09c9 90da0000      	or	a,(_bLF_DEF,y)
2920  09cd d7540c        	ld	(21516,x),a
2923  09d0 c60003        	ld	a,__rid+3
2924  09d3 5f            	clrw	x
2925  09d4 97            	ld	xl,a
2926  09d5 d60000        	ld	a,(_iLF_DEF,x)
2927  09d8 5f            	clrw	x
2928  09d9 97            	ld	xl,a
2929  09da c60003        	ld	a,__rid+3
2930  09dd 905f          	clrw	y
2931  09df 9097          	ld	yl,a
2932  09e1 d6540c        	ld	a,(21516,x)
2933  09e4 90da0000      	or	a,(_bLF_DEF,y)
2934  09e8 d7540c        	ld	(21516,x),a
2937  09eb ac860b86      	jpf	L547
2938  09ef               L367:
2939                     ; 498 			else if( (uiInfo.link[i] & 0x04) != 0 )	{	UI_LN_SET(2);	}
2941  09ef 7b01          	ld	a,(OFST+0,sp)
2942  09f1 5f            	clrw	x
2943  09f2 97            	ld	xl,a
2944  09f3 d6002a        	ld	a,(_uiInfo+42,x)
2945  09f6 a504          	bcp	a,#4
2946  09f8 273a          	jreq	L767
2949  09fa c60004        	ld	a,__rid+4
2950  09fd 5f            	clrw	x
2951  09fe 97            	ld	xl,a
2952  09ff d60000        	ld	a,(_iLF_DEF,x)
2953  0a02 5f            	clrw	x
2954  0a03 97            	ld	xl,a
2955  0a04 c60004        	ld	a,__rid+4
2956  0a07 905f          	clrw	y
2957  0a09 9097          	ld	yl,a
2958  0a0b d6540c        	ld	a,(21516,x)
2959  0a0e 90da0000      	or	a,(_bLF_DEF,y)
2960  0a12 d7540c        	ld	(21516,x),a
2963  0a15 c60005        	ld	a,__rid+5
2964  0a18 5f            	clrw	x
2965  0a19 97            	ld	xl,a
2966  0a1a d60000        	ld	a,(_iLF_DEF,x)
2967  0a1d 5f            	clrw	x
2968  0a1e 97            	ld	xl,a
2969  0a1f c60005        	ld	a,__rid+5
2970  0a22 905f          	clrw	y
2971  0a24 9097          	ld	yl,a
2972  0a26 d6540c        	ld	a,(21516,x)
2973  0a29 90da0000      	or	a,(_bLF_DEF,y)
2974  0a2d d7540c        	ld	(21516,x),a
2977  0a30 ac860b86      	jpf	L547
2978  0a34               L767:
2979                     ; 499 			else if( (uiInfo.link[i] & 0x08) != 0 )	{	UI_LN_SET(3);	}
2981  0a34 7b01          	ld	a,(OFST+0,sp)
2982  0a36 5f            	clrw	x
2983  0a37 97            	ld	xl,a
2984  0a38 d6002a        	ld	a,(_uiInfo+42,x)
2985  0a3b a508          	bcp	a,#8
2986  0a3d 273a          	jreq	L377
2989  0a3f c60006        	ld	a,__rid+6
2990  0a42 5f            	clrw	x
2991  0a43 97            	ld	xl,a
2992  0a44 d60000        	ld	a,(_iLF_DEF,x)
2993  0a47 5f            	clrw	x
2994  0a48 97            	ld	xl,a
2995  0a49 c60006        	ld	a,__rid+6
2996  0a4c 905f          	clrw	y
2997  0a4e 9097          	ld	yl,a
2998  0a50 d6540c        	ld	a,(21516,x)
2999  0a53 90da0000      	or	a,(_bLF_DEF,y)
3000  0a57 d7540c        	ld	(21516,x),a
3003  0a5a c60007        	ld	a,__rid+7
3004  0a5d 5f            	clrw	x
3005  0a5e 97            	ld	xl,a
3006  0a5f d60000        	ld	a,(_iLF_DEF,x)
3007  0a62 5f            	clrw	x
3008  0a63 97            	ld	xl,a
3009  0a64 c60007        	ld	a,__rid+7
3010  0a67 905f          	clrw	y
3011  0a69 9097          	ld	yl,a
3012  0a6b d6540c        	ld	a,(21516,x)
3013  0a6e 90da0000      	or	a,(_bLF_DEF,y)
3014  0a72 d7540c        	ld	(21516,x),a
3017  0a75 ac860b86      	jpf	L547
3018  0a79               L377:
3019                     ; 500 			else if( (uiInfo.link[i] & 0x10) != 0 )	{	UI_LN_SET(4);	}
3021  0a79 7b01          	ld	a,(OFST+0,sp)
3022  0a7b 5f            	clrw	x
3023  0a7c 97            	ld	xl,a
3024  0a7d d6002a        	ld	a,(_uiInfo+42,x)
3025  0a80 a510          	bcp	a,#16
3026  0a82 273a          	jreq	L777
3029  0a84 c60008        	ld	a,__rid+8
3030  0a87 5f            	clrw	x
3031  0a88 97            	ld	xl,a
3032  0a89 d60000        	ld	a,(_iLF_DEF,x)
3033  0a8c 5f            	clrw	x
3034  0a8d 97            	ld	xl,a
3035  0a8e c60008        	ld	a,__rid+8
3036  0a91 905f          	clrw	y
3037  0a93 9097          	ld	yl,a
3038  0a95 d6540c        	ld	a,(21516,x)
3039  0a98 90da0000      	or	a,(_bLF_DEF,y)
3040  0a9c d7540c        	ld	(21516,x),a
3043  0a9f c60009        	ld	a,__rid+9
3044  0aa2 5f            	clrw	x
3045  0aa3 97            	ld	xl,a
3046  0aa4 d60000        	ld	a,(_iLF_DEF,x)
3047  0aa7 5f            	clrw	x
3048  0aa8 97            	ld	xl,a
3049  0aa9 c60009        	ld	a,__rid+9
3050  0aac 905f          	clrw	y
3051  0aae 9097          	ld	yl,a
3052  0ab0 d6540c        	ld	a,(21516,x)
3053  0ab3 90da0000      	or	a,(_bLF_DEF,y)
3054  0ab7 d7540c        	ld	(21516,x),a
3057  0aba ac860b86      	jpf	L547
3058  0abe               L777:
3059                     ; 501 			else if( (uiInfo.link[i] & 0x20) != 0 )	{	UI_LN_SET(5);	}
3061  0abe 7b01          	ld	a,(OFST+0,sp)
3062  0ac0 5f            	clrw	x
3063  0ac1 97            	ld	xl,a
3064  0ac2 d6002a        	ld	a,(_uiInfo+42,x)
3065  0ac5 a520          	bcp	a,#32
3066  0ac7 2739          	jreq	L3001
3069  0ac9 c6000a        	ld	a,__rid+10
3070  0acc 5f            	clrw	x
3071  0acd 97            	ld	xl,a
3072  0ace d60000        	ld	a,(_iLF_DEF,x)
3073  0ad1 5f            	clrw	x
3074  0ad2 97            	ld	xl,a
3075  0ad3 c6000a        	ld	a,__rid+10
3076  0ad6 905f          	clrw	y
3077  0ad8 9097          	ld	yl,a
3078  0ada d6540c        	ld	a,(21516,x)
3079  0add 90da0000      	or	a,(_bLF_DEF,y)
3080  0ae1 d7540c        	ld	(21516,x),a
3083  0ae4 c6000b        	ld	a,__rid+11
3084  0ae7 5f            	clrw	x
3085  0ae8 97            	ld	xl,a
3086  0ae9 d60000        	ld	a,(_iLF_DEF,x)
3087  0aec 5f            	clrw	x
3088  0aed 97            	ld	xl,a
3089  0aee c6000b        	ld	a,__rid+11
3090  0af1 905f          	clrw	y
3091  0af3 9097          	ld	yl,a
3092  0af5 d6540c        	ld	a,(21516,x)
3093  0af8 90da0000      	or	a,(_bLF_DEF,y)
3094  0afc d7540c        	ld	(21516,x),a
3097  0aff cc0b86        	jra	L547
3098  0b02               L3001:
3099                     ; 502 			else if( (uiInfo.link[i] & 0x40) != 0 )	{	UI_LN_SET(6);	}
3101  0b02 7b01          	ld	a,(OFST+0,sp)
3102  0b04 5f            	clrw	x
3103  0b05 97            	ld	xl,a
3104  0b06 d6002a        	ld	a,(_uiInfo+42,x)
3105  0b09 a540          	bcp	a,#64
3106  0b0b 2738          	jreq	L7001
3109  0b0d c6000c        	ld	a,__rid+12
3110  0b10 5f            	clrw	x
3111  0b11 97            	ld	xl,a
3112  0b12 d60000        	ld	a,(_iLF_DEF,x)
3113  0b15 5f            	clrw	x
3114  0b16 97            	ld	xl,a
3115  0b17 c6000c        	ld	a,__rid+12
3116  0b1a 905f          	clrw	y
3117  0b1c 9097          	ld	yl,a
3118  0b1e d6540c        	ld	a,(21516,x)
3119  0b21 90da0000      	or	a,(_bLF_DEF,y)
3120  0b25 d7540c        	ld	(21516,x),a
3123  0b28 c6000d        	ld	a,__rid+13
3124  0b2b 5f            	clrw	x
3125  0b2c 97            	ld	xl,a
3126  0b2d d60000        	ld	a,(_iLF_DEF,x)
3127  0b30 5f            	clrw	x
3128  0b31 97            	ld	xl,a
3129  0b32 c6000d        	ld	a,__rid+13
3130  0b35 905f          	clrw	y
3131  0b37 9097          	ld	yl,a
3132  0b39 d6540c        	ld	a,(21516,x)
3133  0b3c 90da0000      	or	a,(_bLF_DEF,y)
3134  0b40 d7540c        	ld	(21516,x),a
3137  0b43 2041          	jra	L547
3138  0b45               L7001:
3139                     ; 503 			else if( (uiInfo.link[i] & 0x80) != 0 )	{	UI_LN_SET(7);	}
3141  0b45 7b01          	ld	a,(OFST+0,sp)
3142  0b47 5f            	clrw	x
3143  0b48 97            	ld	xl,a
3144  0b49 d6002a        	ld	a,(_uiInfo+42,x)
3145  0b4c a580          	bcp	a,#128
3146  0b4e 2736          	jreq	L547
3149  0b50 c6000e        	ld	a,__rid+14
3150  0b53 5f            	clrw	x
3151  0b54 97            	ld	xl,a
3152  0b55 d60000        	ld	a,(_iLF_DEF,x)
3153  0b58 5f            	clrw	x
3154  0b59 97            	ld	xl,a
3155  0b5a c6000e        	ld	a,__rid+14
3156  0b5d 905f          	clrw	y
3157  0b5f 9097          	ld	yl,a
3158  0b61 d6540c        	ld	a,(21516,x)
3159  0b64 90da0000      	or	a,(_bLF_DEF,y)
3160  0b68 d7540c        	ld	(21516,x),a
3163  0b6b c6000f        	ld	a,__rid+15
3164  0b6e 5f            	clrw	x
3165  0b6f 97            	ld	xl,a
3166  0b70 d60000        	ld	a,(_iLF_DEF,x)
3167  0b73 5f            	clrw	x
3168  0b74 97            	ld	xl,a
3169  0b75 c6000f        	ld	a,__rid+15
3170  0b78 905f          	clrw	y
3171  0b7a 9097          	ld	yl,a
3172  0b7c d6540c        	ld	a,(21516,x)
3173  0b7f 90da0000      	or	a,(_bLF_DEF,y)
3174  0b83 d7540c        	ld	(21516,x),a
3176  0b86               L547:
3177                     ; 506 	if( key == 4 )		{	STATUS_NEXT(next);	}
3179  0b86 7b02          	ld	a,(OFST+1,sp)
3180  0b88 a104          	cp	a,#4
3181  0b8a 2611          	jrne	L5101
3184  0b8c 7b03          	ld	a,(OFST+2,sp)
3185  0b8e c70008        	ld	__ds,a
3188  0b91 725f0009      	clr	__dsCount
3191  0b95 35ff000a      	mov	__dsPrev,#255
3194  0b99 ac980c98      	jpf	L7101
3195  0b9d               L5101:
3196                     ; 507 	else if( key == 2 )
3198  0b9d 7b02          	ld	a,(OFST+1,sp)
3199  0b9f a102          	cp	a,#2
3200  0ba1 261c          	jrne	L1201
3201                     ; 509 		uiInfo.m[UI_RID] = uiInfo._t;
3203  0ba3 c60032        	ld	a,_uiInfo+50
3204  0ba6 5f            	clrw	x
3205  0ba7 97            	ld	xl,a
3206  0ba8 c60047        	ld	a,_uiInfo+71
3207  0bab d70003        	ld	(_uiInfo+3,x),a
3208  0bae               L756:
3209                     ; 511 		STATUS_NEXT(next);
3211  0bae 7b03          	ld	a,(OFST+2,sp)
3212  0bb0 c70008        	ld	__ds,a
3215  0bb3 725f0009      	clr	__dsCount
3218  0bb7 35ff000a      	mov	__dsPrev,#255
3221  0bbb ac980c98      	jpf	L7101
3222  0bbf               L1201:
3223                     ; 513 	else if( key == 3 )
3225  0bbf 7b02          	ld	a,(OFST+1,sp)
3226  0bc1 a103          	cp	a,#3
3227  0bc3 2703          	jreq	L66
3228  0bc5 cc0c76        	jp	L5201
3229  0bc8               L66:
3230                     ; 515 		if( UI_LNID == 0 )		UI_LN ^= 0x01;
3232  0bc8 725d0033      	tnz	_uiInfo+51
3233  0bcc 260d          	jrne	L7201
3236  0bce c60033        	ld	a,_uiInfo+51
3237  0bd1 5f            	clrw	x
3238  0bd2 97            	ld	xl,a
3239  0bd3 d6002a        	ld	a,(_uiInfo+42,x)
3240  0bd6 a801          	xor	a,	#1
3241  0bd8 d7002a        	ld	(_uiInfo+42,x),a
3242  0bdb               L7201:
3243                     ; 516 		if( UI_LNID == 1 )		UI_LN ^= 0x02;
3245  0bdb c60033        	ld	a,_uiInfo+51
3246  0bde a101          	cp	a,#1
3247  0be0 260d          	jrne	L1301
3250  0be2 c60033        	ld	a,_uiInfo+51
3251  0be5 5f            	clrw	x
3252  0be6 97            	ld	xl,a
3253  0be7 d6002a        	ld	a,(_uiInfo+42,x)
3254  0bea a802          	xor	a,	#2
3255  0bec d7002a        	ld	(_uiInfo+42,x),a
3256  0bef               L1301:
3257                     ; 517 		if( UI_LNID == 2 )		UI_LN ^= 0x04;
3259  0bef c60033        	ld	a,_uiInfo+51
3260  0bf2 a102          	cp	a,#2
3261  0bf4 260d          	jrne	L3301
3264  0bf6 c60033        	ld	a,_uiInfo+51
3265  0bf9 5f            	clrw	x
3266  0bfa 97            	ld	xl,a
3267  0bfb d6002a        	ld	a,(_uiInfo+42,x)
3268  0bfe a804          	xor	a,	#4
3269  0c00 d7002a        	ld	(_uiInfo+42,x),a
3270  0c03               L3301:
3271                     ; 518 		if( UI_LNID == 3 )		UI_LN ^= 0x08;
3273  0c03 c60033        	ld	a,_uiInfo+51
3274  0c06 a103          	cp	a,#3
3275  0c08 260d          	jrne	L5301
3278  0c0a c60033        	ld	a,_uiInfo+51
3279  0c0d 5f            	clrw	x
3280  0c0e 97            	ld	xl,a
3281  0c0f d6002a        	ld	a,(_uiInfo+42,x)
3282  0c12 a808          	xor	a,	#8
3283  0c14 d7002a        	ld	(_uiInfo+42,x),a
3284  0c17               L5301:
3285                     ; 519 		if( UI_LNID == 4 )		UI_LN ^= 0x10;
3287  0c17 c60033        	ld	a,_uiInfo+51
3288  0c1a a104          	cp	a,#4
3289  0c1c 260d          	jrne	L7301
3292  0c1e c60033        	ld	a,_uiInfo+51
3293  0c21 5f            	clrw	x
3294  0c22 97            	ld	xl,a
3295  0c23 d6002a        	ld	a,(_uiInfo+42,x)
3296  0c26 a810          	xor	a,	#16
3297  0c28 d7002a        	ld	(_uiInfo+42,x),a
3298  0c2b               L7301:
3299                     ; 520 		if( UI_LNID == 5 )		UI_LN ^= 0x20;
3301  0c2b c60033        	ld	a,_uiInfo+51
3302  0c2e a105          	cp	a,#5
3303  0c30 260d          	jrne	L1401
3306  0c32 c60033        	ld	a,_uiInfo+51
3307  0c35 5f            	clrw	x
3308  0c36 97            	ld	xl,a
3309  0c37 d6002a        	ld	a,(_uiInfo+42,x)
3310  0c3a a820          	xor	a,	#32
3311  0c3c d7002a        	ld	(_uiInfo+42,x),a
3312  0c3f               L1401:
3313                     ; 521 		if( UI_LNID == 6 )		UI_LN ^= 0x40;
3315  0c3f c60033        	ld	a,_uiInfo+51
3316  0c42 a106          	cp	a,#6
3317  0c44 260d          	jrne	L3401
3320  0c46 c60033        	ld	a,_uiInfo+51
3321  0c49 5f            	clrw	x
3322  0c4a 97            	ld	xl,a
3323  0c4b d6002a        	ld	a,(_uiInfo+42,x)
3324  0c4e a840          	xor	a,	#64
3325  0c50 d7002a        	ld	(_uiInfo+42,x),a
3326  0c53               L3401:
3327                     ; 522 		if( UI_LNID == 7 )		UI_LN ^= 0x80;
3329  0c53 c60033        	ld	a,_uiInfo+51
3330  0c56 a107          	cp	a,#7
3331  0c58 260d          	jrne	L5401
3334  0c5a c60033        	ld	a,_uiInfo+51
3335  0c5d 5f            	clrw	x
3336  0c5e 97            	ld	xl,a
3337  0c5f d6002a        	ld	a,(_uiInfo+42,x)
3338  0c62 a880          	xor	a,	#128
3339  0c64 d7002a        	ld	(_uiInfo+42,x),a
3340  0c67               L5401:
3341                     ; 523 		STATUS_NEXT(prev);
3343  0c67 7b06          	ld	a,(OFST+5,sp)
3344  0c69 c70008        	ld	__ds,a
3347  0c6c 725f0009      	clr	__dsCount
3350  0c70 35ff000a      	mov	__dsPrev,#255
3353  0c74 2022          	jra	L7101
3354  0c76               L5201:
3355                     ; 525 	else if( key == 1 )
3357  0c76 7b02          	ld	a,(OFST+1,sp)
3358  0c78 a101          	cp	a,#1
3359  0c7a 261c          	jrne	L7101
3360                     ; 527 		UI_LNID = (uint8_t)((UI_LNID + 1) % 8);
3362  0c7c c60033        	ld	a,_uiInfo+51
3363  0c7f 5f            	clrw	x
3364  0c80 97            	ld	xl,a
3365  0c81 5c            	incw	x
3366  0c82 a608          	ld	a,#8
3367  0c84 cd0000        	call	c_smodx
3369  0c87 9f            	ld	a,xl
3370  0c88 c70033        	ld	_uiInfo+51,a
3371                     ; 528 		STATUS_NEXT(prev);
3373  0c8b 7b06          	ld	a,(OFST+5,sp)
3374  0c8d c70008        	ld	__ds,a
3377  0c90 725f0009      	clr	__dsCount
3380  0c94 35ff000a      	mov	__dsPrev,#255
3382  0c98               L7101:
3383                     ; 530 }
3386  0c98 5b03          	addw	sp,#3
3387  0c9a 81            	ret
3442                     ; 578 void	disp_status_run_op(uint8_t key, uint8_t next)
3442                     ; 579 {
3443                     	switch	.text
3444  0c9b               _disp_status_run_op:
3446  0c9b 89            	pushw	x
3447  0c9c 88            	push	a
3448       00000001      OFST:	set	1
3451                     ; 581 	if( _dsCount == 0 )
3453  0c9d 725d0009      	tnz	__dsCount
3454  0ca1 2612          	jrne	L3701
3455                     ; 583 		lcd_clear(0);
3457  0ca3 4f            	clr	a
3458  0ca4 cd0000        	call	_lcd_clear
3460                     ; 584 		lcd_disp_setup_cntl_op();
3462  0ca7 cd0000        	call	_lcd_disp_setup_cntl_op
3464                     ; 585 		_dsCount = 1;
3466  0caa 35010009      	mov	__dsCount,#1
3467                     ; 586 		uiInfo._t = uiInfo.opMode;
3469  0cae 55003e0047    	mov	_uiInfo+71,_uiInfo+62
3471  0cb3 2050          	jra	L5701
3472  0cb5               L3701:
3473                     ; 590 		i = uiInfo.opMode;
3475  0cb5 c6003e        	ld	a,_uiInfo+62
3476  0cb8 6b01          	ld	(OFST+0,sp),a
3477                     ; 591 		if( uiInfo.enc != 0 )
3479  0cba 725d0000      	tnz	_uiInfo
3480  0cbe 272a          	jreq	L7701
3481                     ; 593 			if( (uiInfo.enc & 0x40) == 0 )
3483  0cc0 c60000        	ld	a,_uiInfo
3484  0cc3 a540          	bcp	a,#64
3485  0cc5 2610          	jrne	L1011
3486                     ; 594 				i = (i+2-1)%2;
3488  0cc7 7b01          	ld	a,(OFST+0,sp)
3489  0cc9 5f            	clrw	x
3490  0cca 97            	ld	xl,a
3491  0ccb 5c            	incw	x
3492  0ccc a602          	ld	a,#2
3493  0cce cd0000        	call	c_smodx
3495  0cd1 01            	rrwa	x,a
3496  0cd2 6b01          	ld	(OFST+0,sp),a
3497  0cd4 02            	rlwa	x,a
3499  0cd5 200e          	jra	L3011
3500  0cd7               L1011:
3501                     ; 596 				i = (i+1)%2;
3503  0cd7 7b01          	ld	a,(OFST+0,sp)
3504  0cd9 5f            	clrw	x
3505  0cda 97            	ld	xl,a
3506  0cdb 5c            	incw	x
3507  0cdc a602          	ld	a,#2
3508  0cde cd0000        	call	c_smodx
3510  0ce1 01            	rrwa	x,a
3511  0ce2 6b01          	ld	(OFST+0,sp),a
3512  0ce4 02            	rlwa	x,a
3513  0ce5               L3011:
3514                     ; 597 			uiInfo.opMode = i;
3516  0ce5 7b01          	ld	a,(OFST+0,sp)
3517  0ce7 c7003e        	ld	_uiInfo+62,a
3518  0cea               L7701:
3519                     ; 599 		if( _dsPrev != i )
3521  0cea c6000a        	ld	a,__dsPrev
3522  0ced 1101          	cp	a,(OFST+0,sp)
3523  0cef 2714          	jreq	L5701
3524                     ; 601 			_dsPrev = i;
3526  0cf1 7b01          	ld	a,(OFST+0,sp)
3527  0cf3 c7000a        	ld	__dsPrev,a
3528                     ; 602 			clear_npos2();
3530  0cf6 cd0147        	call	_clear_npos2
3532                     ; 603 			if( i==0 )
3534  0cf9 0d01          	tnz	(OFST+0,sp)
3535  0cfb 2605          	jrne	L7011
3536                     ; 604 				lcd_disp_setup_cntl_on();
3538  0cfd cd0000        	call	_lcd_disp_setup_cntl_on
3541  0d00 2003          	jra	L5701
3542  0d02               L7011:
3543                     ; 606 				lcd_disp_setup_cntl_po();
3545  0d02 cd0000        	call	_lcd_disp_setup_cntl_po
3547  0d05               L5701:
3548                     ; 609 	if( key == 4 )		
3550  0d05 7b02          	ld	a,(OFST+1,sp)
3551  0d07 a104          	cp	a,#4
3552  0d09 260f          	jrne	L3111
3553                     ; 611 		STATUS_NEXT(next);	
3555  0d0b 7b03          	ld	a,(OFST+2,sp)
3556  0d0d c70008        	ld	__ds,a
3559  0d10 725f0009      	clr	__dsCount
3562  0d14 35ff000a      	mov	__dsPrev,#255
3565  0d18 2018          	jra	L5111
3566  0d1a               L3111:
3567                     ; 613 	else if( key == 2 )
3569  0d1a 7b02          	ld	a,(OFST+1,sp)
3570  0d1c a102          	cp	a,#2
3571  0d1e 2612          	jrne	L5111
3572                     ; 615 		uiInfo.opMode = uiInfo._t;
3574  0d20 550047003e    	mov	_uiInfo+62,_uiInfo+71
3575                     ; 616 		STATUS_NEXT(next);
3577  0d25 7b03          	ld	a,(OFST+2,sp)
3578  0d27 c70008        	ld	__ds,a
3581  0d2a 725f0009      	clr	__dsCount
3584  0d2e 35ff000a      	mov	__dsPrev,#255
3586  0d32               L5111:
3587                     ; 618 }
3590  0d32 5b03          	addw	sp,#3
3591  0d34 81            	ret
3647                     ; 620 void	disp_status_cntl_op(uint8_t key, uint8_t next)
3647                     ; 621 {
3648                     	switch	.text
3649  0d35               _disp_status_cntl_op:
3651  0d35 89            	pushw	x
3652  0d36 88            	push	a
3653       00000001      OFST:	set	1
3656                     ; 623 	if( _dsCount == 0 )
3658  0d37 725d0009      	tnz	__dsCount
3659  0d3b 2612          	jrne	L1411
3660                     ; 625 		lcd_clear(0);
3662  0d3d 4f            	clr	a
3663  0d3e cd0000        	call	_lcd_clear
3665                     ; 626 		lcd_disp_setup_mode();
3667  0d41 cd0000        	call	_lcd_disp_setup_mode
3669                     ; 627 		_dsCount = 1;
3671  0d44 35010009      	mov	__dsCount,#1
3672                     ; 628 		uiInfo._t = uiInfo.cntlMode;
3674  0d48 55003d0047    	mov	_uiInfo+71,_uiInfo+61
3676  0d4d 2050          	jra	L3411
3677  0d4f               L1411:
3678                     ; 632 		i = uiInfo.cntlMode;
3680  0d4f c6003d        	ld	a,_uiInfo+61
3681  0d52 6b01          	ld	(OFST+0,sp),a
3682                     ; 633 		if( uiInfo.enc != 0 )
3684  0d54 725d0000      	tnz	_uiInfo
3685  0d58 272a          	jreq	L5411
3686                     ; 635 			if( (uiInfo.enc & 0x40) == 0 )
3688  0d5a c60000        	ld	a,_uiInfo
3689  0d5d a540          	bcp	a,#64
3690  0d5f 2610          	jrne	L7411
3691                     ; 636 				i = (i+2-1)%2;
3693  0d61 7b01          	ld	a,(OFST+0,sp)
3694  0d63 5f            	clrw	x
3695  0d64 97            	ld	xl,a
3696  0d65 5c            	incw	x
3697  0d66 a602          	ld	a,#2
3698  0d68 cd0000        	call	c_smodx
3700  0d6b 01            	rrwa	x,a
3701  0d6c 6b01          	ld	(OFST+0,sp),a
3702  0d6e 02            	rlwa	x,a
3704  0d6f 200e          	jra	L1511
3705  0d71               L7411:
3706                     ; 638 				i = (i+1)%2;
3708  0d71 7b01          	ld	a,(OFST+0,sp)
3709  0d73 5f            	clrw	x
3710  0d74 97            	ld	xl,a
3711  0d75 5c            	incw	x
3712  0d76 a602          	ld	a,#2
3713  0d78 cd0000        	call	c_smodx
3715  0d7b 01            	rrwa	x,a
3716  0d7c 6b01          	ld	(OFST+0,sp),a
3717  0d7e 02            	rlwa	x,a
3718  0d7f               L1511:
3719                     ; 639 			uiInfo.cntlMode = i;
3721  0d7f 7b01          	ld	a,(OFST+0,sp)
3722  0d81 c7003d        	ld	_uiInfo+61,a
3723  0d84               L5411:
3724                     ; 641 		if( _dsPrev != i )
3726  0d84 c6000a        	ld	a,__dsPrev
3727  0d87 1101          	cp	a,(OFST+0,sp)
3728  0d89 2714          	jreq	L3411
3729                     ; 643 			_dsPrev = i;
3731  0d8b 7b01          	ld	a,(OFST+0,sp)
3732  0d8d c7000a        	ld	__dsPrev,a
3733                     ; 644 			clear_npos2();
3735  0d90 cd0147        	call	_clear_npos2
3737                     ; 645 			if( i == 0 )
3739  0d93 0d01          	tnz	(OFST+0,sp)
3740  0d95 2605          	jrne	L5511
3741                     ; 646 				lcd_disp_setup_mode_local();
3743  0d97 cd0000        	call	_lcd_disp_setup_mode_local
3746  0d9a 2003          	jra	L3411
3747  0d9c               L5511:
3748                     ; 648 				lcd_disp_setup_mode_each();
3750  0d9c cd0000        	call	_lcd_disp_setup_mode_each
3752  0d9f               L3411:
3753                     ; 651 	if( key == 4 )		
3755  0d9f 7b02          	ld	a,(OFST+1,sp)
3756  0da1 a104          	cp	a,#4
3757  0da3 260f          	jrne	L1611
3758                     ; 663 		STATUS_NEXT(next);	
3760  0da5 7b03          	ld	a,(OFST+2,sp)
3761  0da7 c70008        	ld	__ds,a
3764  0daa 725f0009      	clr	__dsCount
3767  0dae 35ff000a      	mov	__dsPrev,#255
3770  0db2 2018          	jra	L3611
3771  0db4               L1611:
3772                     ; 665 	else if( key == 2 )
3774  0db4 7b02          	ld	a,(OFST+1,sp)
3775  0db6 a102          	cp	a,#2
3776  0db8 2612          	jrne	L3611
3777                     ; 667 		uiInfo.cntlMode = uiInfo._t;
3779  0dba 550047003d    	mov	_uiInfo+61,_uiInfo+71
3780                     ; 668 		STATUS_NEXT(next);
3782  0dbf 7b03          	ld	a,(OFST+2,sp)
3783  0dc1 c70008        	ld	__ds,a
3786  0dc4 725f0009      	clr	__dsCount
3789  0dc8 35ff000a      	mov	__dsPrev,#255
3791  0dcc               L3611:
3792                     ; 670 }
3795  0dcc 5b03          	addw	sp,#3
3796  0dce 81            	ret
3849                     ; 672 void	disp_status_len(uint8_t key, uint8_t next)
3849                     ; 673 {
3850                     	switch	.text
3851  0dcf               _disp_status_len:
3853  0dcf 89            	pushw	x
3854  0dd0 88            	push	a
3855       00000001      OFST:	set	1
3858                     ; 676 	STATUS_CLIENT
3860  0dd1 725d000c      	tnz	_uiInfo+12
3861  0dd5 2603          	jrne	L67
3862  0dd7 cc0e8b        	jp	L7611
3863  0dda               L67:
3866                     ; 677 	if( _dsCount == 0 )
3868  0dda 725d0009      	tnz	__dsCount
3869  0dde 2612          	jrne	L3121
3870                     ; 679 		lcd_clear(0);
3872  0de0 4f            	clr	a
3873  0de1 cd0000        	call	_lcd_clear
3875                     ; 680 		lcd_disp_setup_len();
3877  0de4 cd0000        	call	_lcd_disp_setup_len
3879                     ; 681 		_dsCount = 1;
3881  0de7 35010009      	mov	__dsCount,#1
3882                     ; 682 		uiInfo._t = uiInfo.houseLen;
3884  0deb 55003f0047    	mov	_uiInfo+71,_uiInfo+63
3886  0df0 2079          	jra	L5121
3887  0df2               L3121:
3888                     ; 686 		i = uiInfo.houseLen;
3890  0df2 c6003f        	ld	a,_uiInfo+63
3891  0df5 6b01          	ld	(OFST+0,sp),a
3892                     ; 687 		if( uiInfo.enc != 0 )
3894  0df7 725d0000      	tnz	_uiInfo
3895  0dfb 2726          	jreq	L7121
3896                     ; 689 			if( (uiInfo.enc & 0x40) == 0 )	i--;
3898  0dfd c60000        	ld	a,_uiInfo
3899  0e00 a540          	bcp	a,#64
3900  0e02 2604          	jrne	L1221
3903  0e04 0a01          	dec	(OFST+0,sp)
3905  0e06 2002          	jra	L3221
3906  0e08               L1221:
3907                     ; 691 				i++;
3909  0e08 0c01          	inc	(OFST+0,sp)
3910  0e0a               L3221:
3911                     ; 692 			if( i < 35 )	i = 150;
3913  0e0a 7b01          	ld	a,(OFST+0,sp)
3914  0e0c a123          	cp	a,#35
3915  0e0e 2404          	jruge	L5221
3918  0e10 a696          	ld	a,#150
3919  0e12 6b01          	ld	(OFST+0,sp),a
3920  0e14               L5221:
3921                     ; 693 			if( i > 150 )	i = 35;
3923  0e14 7b01          	ld	a,(OFST+0,sp)
3924  0e16 a197          	cp	a,#151
3925  0e18 2504          	jrult	L7221
3928  0e1a a623          	ld	a,#35
3929  0e1c 6b01          	ld	(OFST+0,sp),a
3930  0e1e               L7221:
3931                     ; 694 			uiInfo.houseLen = i;
3933  0e1e 7b01          	ld	a,(OFST+0,sp)
3934  0e20 c7003f        	ld	_uiInfo+63,a
3935  0e23               L7121:
3936                     ; 696 		if( _dsPrev != i )
3938  0e23 c6000a        	ld	a,__dsPrev
3939  0e26 1101          	cp	a,(OFST+0,sp)
3940  0e28 2741          	jreq	L5121
3941                     ; 698 			_dsPrev = i;
3943  0e2a 7b01          	ld	a,(OFST+0,sp)
3944  0e2c c7000a        	ld	__dsPrev,a
3945                     ; 699 			UI_DISP_3Digit(i);
3947  0e2f 7b01          	ld	a,(OFST+0,sp)
3948  0e31 5f            	clrw	x
3949  0e32 97            	ld	xl,a
3950  0e33 a664          	ld	a,#100
3951  0e35 62            	div	x,a
3952  0e36 9f            	ld	a,xl
3953  0e37 97            	ld	xl,a
3954  0e38 a601          	ld	a,#1
3955  0e3a 95            	ld	xh,a
3956  0e3b cd0000        	call	_lcd_disp_n
3960  0e3e 7b01          	ld	a,(OFST+0,sp)
3961  0e40 5f            	clrw	x
3962  0e41 97            	ld	xl,a
3963  0e42 a664          	ld	a,#100
3964  0e44 62            	div	x,a
3965  0e45 5f            	clrw	x
3966  0e46 97            	ld	xl,a
3967  0e47 01            	rrwa	x,a
3968  0e48 6b01          	ld	(OFST+0,sp),a
3969  0e4a 02            	rlwa	x,a
3972  0e4b 7b01          	ld	a,(OFST+0,sp)
3973  0e4d 5f            	clrw	x
3974  0e4e 97            	ld	xl,a
3975  0e4f a60a          	ld	a,#10
3976  0e51 62            	div	x,a
3977  0e52 9f            	ld	a,xl
3978  0e53 97            	ld	xl,a
3979  0e54 a602          	ld	a,#2
3980  0e56 95            	ld	xh,a
3981  0e57 cd0000        	call	_lcd_disp_n
3985  0e5a 7b01          	ld	a,(OFST+0,sp)
3986  0e5c 5f            	clrw	x
3987  0e5d 97            	ld	xl,a
3988  0e5e a60a          	ld	a,#10
3989  0e60 62            	div	x,a
3990  0e61 5f            	clrw	x
3991  0e62 97            	ld	xl,a
3992  0e63 9f            	ld	a,xl
3993  0e64 97            	ld	xl,a
3994  0e65 a603          	ld	a,#3
3995  0e67 95            	ld	xh,a
3996  0e68 cd0000        	call	_lcd_disp_n
3999  0e6b               L5121:
4000                     ; 702 	if( key == 4 )		{	STATUS_NEXT(next);	}
4002  0e6b 7b02          	ld	a,(OFST+1,sp)
4003  0e6d a104          	cp	a,#4
4004  0e6f 260f          	jrne	L3321
4007  0e71 7b03          	ld	a,(OFST+2,sp)
4008  0e73 c70008        	ld	__ds,a
4011  0e76 725f0009      	clr	__dsCount
4014  0e7a 35ff000a      	mov	__dsPrev,#255
4017  0e7e 2018          	jra	L5321
4018  0e80               L3321:
4019                     ; 703 	else if( key == 2 )
4021  0e80 7b02          	ld	a,(OFST+1,sp)
4022  0e82 a102          	cp	a,#2
4023  0e84 2612          	jrne	L5321
4024                     ; 705 		uiInfo.houseLen = uiInfo._t;
4026  0e86 550047003f    	mov	_uiInfo+63,_uiInfo+71
4027  0e8b               L7611:
4028                     ; 707 		STATUS_NEXT(next);
4030  0e8b 7b03          	ld	a,(OFST+2,sp)
4031  0e8d c70008        	ld	__ds,a
4034  0e90 725f0009      	clr	__dsCount
4037  0e94 35ff000a      	mov	__dsPrev,#255
4039  0e98               L5321:
4040                     ; 709 }
4043  0e98 5b03          	addw	sp,#3
4044  0e9a 81            	ret
4101                     ; 711 void	disp_status_po_type(uint8_t key, uint8_t next)
4101                     ; 712 {
4102                     	switch	.text
4103  0e9b               _disp_status_po_type:
4105  0e9b 89            	pushw	x
4106  0e9c 88            	push	a
4107       00000001      OFST:	set	1
4110                     ; 714 	if( _dsCount == 0 )
4112  0e9d 725d0009      	tnz	__dsCount
4113  0ea1 2612          	jrne	L1621
4114                     ; 716 		lcd_clear(0);
4116  0ea3 4f            	clr	a
4117  0ea4 cd0000        	call	_lcd_clear
4119                     ; 717 		lcd_disp_setup_po_type();
4121  0ea7 cd0000        	call	_lcd_disp_setup_po_type
4123                     ; 718 		_dsCount = 1;
4125  0eaa 35010009      	mov	__dsCount,#1
4126                     ; 719 		uiInfo._t = uiInfo.poType;
4128  0eae 5500400047    	mov	_uiInfo+71,_uiInfo+64
4130  0eb3 2057          	jra	L3621
4131  0eb5               L1621:
4132                     ; 723 		i = uiInfo.poType;
4134  0eb5 c60040        	ld	a,_uiInfo+64
4135  0eb8 6b01          	ld	(OFST+0,sp),a
4136                     ; 724 		if( uiInfo.enc != 0 )
4138  0eba 725d0000      	tnz	_uiInfo
4139  0ebe 2726          	jreq	L5621
4140                     ; 726 			if( (uiInfo.enc & 0x40) == 0 )
4142  0ec0 c60000        	ld	a,_uiInfo
4143  0ec3 a540          	bcp	a,#64
4144  0ec5 260e          	jrne	L7621
4145                     ; 728 				if( i==0 )	i = 2;
4147  0ec7 0d01          	tnz	(OFST+0,sp)
4148  0ec9 2606          	jrne	L1721
4151  0ecb a602          	ld	a,#2
4152  0ecd 6b01          	ld	(OFST+0,sp),a
4154  0ecf 2010          	jra	L5721
4155  0ed1               L1721:
4156                     ; 730 					i--;
4158  0ed1 0a01          	dec	(OFST+0,sp)
4159  0ed3 200c          	jra	L5721
4160  0ed5               L7621:
4161                     ; 734 				if( i==2 )	i = 0;
4163  0ed5 7b01          	ld	a,(OFST+0,sp)
4164  0ed7 a102          	cp	a,#2
4165  0ed9 2604          	jrne	L7721
4168  0edb 0f01          	clr	(OFST+0,sp)
4170  0edd 2002          	jra	L5721
4171  0edf               L7721:
4172                     ; 736 					i++;
4174  0edf 0c01          	inc	(OFST+0,sp)
4175  0ee1               L5721:
4176                     ; 738 			uiInfo.poType = i;
4178  0ee1 7b01          	ld	a,(OFST+0,sp)
4179  0ee3 c70040        	ld	_uiInfo+64,a
4180  0ee6               L5621:
4181                     ; 740 		if( _dsPrev != i )
4183  0ee6 c6000a        	ld	a,__dsPrev
4184  0ee9 1101          	cp	a,(OFST+0,sp)
4185  0eeb 271f          	jreq	L3621
4186                     ; 742 			_dsPrev = i;
4188  0eed 7b01          	ld	a,(OFST+0,sp)
4189  0eef c7000a        	ld	__dsPrev,a
4190                     ; 743 			clear_npos2();
4192  0ef2 cd0147        	call	_clear_npos2
4194                     ; 744 			if( i==0 )		lcd_disp_setup_po_type_xl();
4196  0ef5 0d01          	tnz	(OFST+0,sp)
4197  0ef7 2605          	jrne	L5031
4200  0ef9 cd0000        	call	_lcd_disp_setup_po_type_xl
4203  0efc 200e          	jra	L3621
4204  0efe               L5031:
4205                     ; 745 			else if( i==1 )	lcd_disp_setup_po_type_pb();
4207  0efe 7b01          	ld	a,(OFST+0,sp)
4208  0f00 a101          	cp	a,#1
4209  0f02 2605          	jrne	L1131
4212  0f04 cd0000        	call	_lcd_disp_setup_po_type_pb
4215  0f07 2003          	jra	L3621
4216  0f09               L1131:
4217                     ; 747 				lcd_disp_setup_po_type_pe();
4219  0f09 cd0000        	call	_lcd_disp_setup_po_type_pe
4221  0f0c               L3621:
4222                     ; 750 	if( key == 4 )		
4224  0f0c 7b02          	ld	a,(OFST+1,sp)
4225  0f0e a104          	cp	a,#4
4226  0f10 260f          	jrne	L5131
4227                     ; 752 		STATUS_NEXT(next);	
4229  0f12 7b03          	ld	a,(OFST+2,sp)
4230  0f14 c70008        	ld	__ds,a
4233  0f17 725f0009      	clr	__dsCount
4236  0f1b 35ff000a      	mov	__dsPrev,#255
4239  0f1f 2018          	jra	L7131
4240  0f21               L5131:
4241                     ; 754 	else if( key == 2 )
4243  0f21 7b02          	ld	a,(OFST+1,sp)
4244  0f23 a102          	cp	a,#2
4245  0f25 2612          	jrne	L7131
4246                     ; 756 		uiInfo.poType = uiInfo._t;
4248  0f27 5500470040    	mov	_uiInfo+64,_uiInfo+71
4249                     ; 757 		STATUS_NEXT(next);
4251  0f2c 7b03          	ld	a,(OFST+2,sp)
4252  0f2e c70008        	ld	__ds,a
4255  0f31 725f0009      	clr	__dsCount
4258  0f35 35ff000a      	mov	__dsPrev,#255
4260  0f39               L7131:
4261                     ; 759 }
4264  0f39 5b03          	addw	sp,#3
4265  0f3b 81            	ret
4319                     ; 761 void	disp_status_lpm(uint8_t key, uint8_t next)
4319                     ; 762 {
4320                     	switch	.text
4321  0f3c               _disp_status_lpm:
4323  0f3c 89            	pushw	x
4324  0f3d 88            	push	a
4325       00000001      OFST:	set	1
4328                     ; 764 	if( _dsCount == 0 )
4330  0f3e 725d0009      	tnz	__dsCount
4331  0f42 2614          	jrne	L3431
4332                     ; 766 		lcd_clear(0);
4334  0f44 4f            	clr	a
4335  0f45 cd0000        	call	_lcd_clear
4337                     ; 767 		lcd_disp_setup_lpm();
4339  0f48 cd0000        	call	_lcd_disp_setup_lpm
4341                     ; 768 		_dsCount = 1;
4343  0f4b 35010009      	mov	__dsCount,#1
4344                     ; 769 		uiInfo._t = uiInfo.lpmType;
4346  0f4f 5500410047    	mov	_uiInfo+71,_uiInfo+65
4348  0f54 acde0fde      	jpf	L5431
4349  0f58               L3431:
4350                     ; 773 		i = uiInfo.lpmType;
4352  0f58 c60041        	ld	a,_uiInfo+65
4353  0f5b 6b01          	ld	(OFST+0,sp),a
4354                     ; 774 		if( uiInfo.enc != 0 )
4356  0f5d 725d0000      	tnz	_uiInfo
4357  0f61 2726          	jreq	L7431
4358                     ; 776 			if( (uiInfo.enc & 0x40) == 0 )
4360  0f63 c60000        	ld	a,_uiInfo
4361  0f66 a540          	bcp	a,#64
4362  0f68 260e          	jrne	L1531
4363                     ; 778 				if( i==0 )	i = 3;
4365  0f6a 0d01          	tnz	(OFST+0,sp)
4366  0f6c 2606          	jrne	L3531
4369  0f6e a603          	ld	a,#3
4370  0f70 6b01          	ld	(OFST+0,sp),a
4372  0f72 2010          	jra	L7531
4373  0f74               L3531:
4374                     ; 780 					i--;
4376  0f74 0a01          	dec	(OFST+0,sp)
4377  0f76 200c          	jra	L7531
4378  0f78               L1531:
4379                     ; 784 				if( i==3 )	i = 0;
4381  0f78 7b01          	ld	a,(OFST+0,sp)
4382  0f7a a103          	cp	a,#3
4383  0f7c 2604          	jrne	L1631
4386  0f7e 0f01          	clr	(OFST+0,sp)
4388  0f80 2002          	jra	L7531
4389  0f82               L1631:
4390                     ; 786 					i++;
4392  0f82 0c01          	inc	(OFST+0,sp)
4393  0f84               L7531:
4394                     ; 788 			uiInfo.lpmType = i;
4396  0f84 7b01          	ld	a,(OFST+0,sp)
4397  0f86 c70041        	ld	_uiInfo+65,a
4398  0f89               L7431:
4399                     ; 790 		if( _dsPrev != i )
4401  0f89 c6000a        	ld	a,__dsPrev
4402  0f8c 1101          	cp	a,(OFST+0,sp)
4403  0f8e 274e          	jreq	L5431
4404                     ; 792 			_dsPrev = i;
4406  0f90 7b01          	ld	a,(OFST+0,sp)
4407  0f92 c7000a        	ld	__dsPrev,a
4408                     ; 793 			clear_npos2();
4410  0f95 cd0147        	call	_clear_npos2
4412                     ; 794 			if( i==0 )		{	UI_DISP_2Digit(0);}
4414  0f98 0d01          	tnz	(OFST+0,sp)
4415  0f9a 260e          	jrne	L7631
4418  0f9c ae0200        	ldw	x,#512
4419  0f9f cd0000        	call	_lcd_disp_n
4423  0fa2 ae0300        	ldw	x,#768
4424  0fa5 cd0000        	call	_lcd_disp_n
4428  0fa8 2034          	jra	L5431
4429  0faa               L7631:
4430                     ; 795 			else if( i==1 )	{	UI_DISP_2Digit(10);}
4432  0faa 7b01          	ld	a,(OFST+0,sp)
4433  0fac a101          	cp	a,#1
4434  0fae 260e          	jrne	L3731
4437  0fb0 ae0201        	ldw	x,#513
4438  0fb3 cd0000        	call	_lcd_disp_n
4442  0fb6 ae0300        	ldw	x,#768
4443  0fb9 cd0000        	call	_lcd_disp_n
4447  0fbc 2020          	jra	L5431
4448  0fbe               L3731:
4449                     ; 796 			else if( i==2 )	{	UI_DISP_2Digit(20);}
4451  0fbe 7b01          	ld	a,(OFST+0,sp)
4452  0fc0 a102          	cp	a,#2
4453  0fc2 260e          	jrne	L7731
4456  0fc4 ae0202        	ldw	x,#514
4457  0fc7 cd0000        	call	_lcd_disp_n
4461  0fca ae0300        	ldw	x,#768
4462  0fcd cd0000        	call	_lcd_disp_n
4466  0fd0 200c          	jra	L5431
4467  0fd2               L7731:
4468                     ; 799 				UI_DISP_2Digit(30);
4470  0fd2 ae0203        	ldw	x,#515
4471  0fd5 cd0000        	call	_lcd_disp_n
4475  0fd8 ae0300        	ldw	x,#768
4476  0fdb cd0000        	call	_lcd_disp_n
4479  0fde               L5431:
4480                     ; 803 	if( key == 4 )		
4482  0fde 7b02          	ld	a,(OFST+1,sp)
4483  0fe0 a104          	cp	a,#4
4484  0fe2 260f          	jrne	L3041
4485                     ; 805 		STATUS_NEXT(next);	
4487  0fe4 7b03          	ld	a,(OFST+2,sp)
4488  0fe6 c70008        	ld	__ds,a
4491  0fe9 725f0009      	clr	__dsCount
4494  0fed 35ff000a      	mov	__dsPrev,#255
4497  0ff1 2018          	jra	L5041
4498  0ff3               L3041:
4499                     ; 807 	else if( key == 2 )
4501  0ff3 7b02          	ld	a,(OFST+1,sp)
4502  0ff5 a102          	cp	a,#2
4503  0ff7 2612          	jrne	L5041
4504                     ; 809 		uiInfo.lpmType = uiInfo._t;
4506  0ff9 5500470041    	mov	_uiInfo+65,_uiInfo+71
4507                     ; 810 		STATUS_NEXT(next);
4509  0ffe 7b03          	ld	a,(OFST+2,sp)
4510  1000 c70008        	ld	__ds,a
4513  1003 725f0009      	clr	__dsCount
4516  1007 35ff000a      	mov	__dsPrev,#255
4518  100b               L5041:
4519                     ; 812 }
4522  100b 5b03          	addw	sp,#3
4523  100d 81            	ret
4577                     ; 814 void	disp_status_temp_offset(uint8_t key, uint8_t next)
4577                     ; 815 {
4578                     	switch	.text
4579  100e               _disp_status_temp_offset:
4581  100e 89            	pushw	x
4582  100f 88            	push	a
4583       00000001      OFST:	set	1
4586                     ; 818 	STATUS_CLIENT
4588  1010 725d000c      	tnz	_uiInfo+12
4589  1014 2603          	jrne	L601
4590  1016 cc10ca        	jp	L1141
4591  1019               L601:
4594                     ; 819 	if( _dsCount == 0 )
4596  1019 725d0009      	tnz	__dsCount
4597  101d 2612          	jrne	L5341
4598                     ; 821 		lcd_clear(0);
4600  101f 4f            	clr	a
4601  1020 cd0000        	call	_lcd_clear
4603                     ; 822 		lcd_disp_setup_temp_offset();
4605  1023 cd0000        	call	_lcd_disp_setup_temp_offset
4607                     ; 823 		_dsCount = 1;
4609  1026 35010009      	mov	__dsCount,#1
4610                     ; 824 		uiInfo._t = uiInfo.tempOffset;
4612  102a 5500420047    	mov	_uiInfo+71,_uiInfo+66
4614  102f 2079          	jra	L7341
4615  1031               L5341:
4616                     ; 828 		i = uiInfo.tempOffset;
4618  1031 c60042        	ld	a,_uiInfo+66
4619  1034 6b01          	ld	(OFST+0,sp),a
4620                     ; 829 		if( uiInfo.enc != 0 )
4622  1036 725d0000      	tnz	_uiInfo
4623  103a 2726          	jreq	L1441
4624                     ; 831 			if( (uiInfo.enc & 0x40) == 0 )	i--;
4626  103c c60000        	ld	a,_uiInfo
4627  103f a540          	bcp	a,#64
4628  1041 2604          	jrne	L3441
4631  1043 0a01          	dec	(OFST+0,sp)
4633  1045 2002          	jra	L5441
4634  1047               L3441:
4635                     ; 833 				i++;
4637  1047 0c01          	inc	(OFST+0,sp)
4638  1049               L5441:
4639                     ; 834 			if( i < 60 )	i = 100;
4641  1049 7b01          	ld	a,(OFST+0,sp)
4642  104b a13c          	cp	a,#60
4643  104d 2404          	jruge	L7441
4646  104f a664          	ld	a,#100
4647  1051 6b01          	ld	(OFST+0,sp),a
4648  1053               L7441:
4649                     ; 835 			if( i > 100 )	i = 60;
4651  1053 7b01          	ld	a,(OFST+0,sp)
4652  1055 a165          	cp	a,#101
4653  1057 2504          	jrult	L1541
4656  1059 a63c          	ld	a,#60
4657  105b 6b01          	ld	(OFST+0,sp),a
4658  105d               L1541:
4659                     ; 836 			uiInfo.tempOffset = i;
4661  105d 7b01          	ld	a,(OFST+0,sp)
4662  105f c70042        	ld	_uiInfo+66,a
4663  1062               L1441:
4664                     ; 838 		if( _dsPrev != i )
4666  1062 c6000a        	ld	a,__dsPrev
4667  1065 1101          	cp	a,(OFST+0,sp)
4668  1067 2741          	jreq	L7341
4669                     ; 840 			_dsPrev = i;
4671  1069 7b01          	ld	a,(OFST+0,sp)
4672  106b c7000a        	ld	__dsPrev,a
4673                     ; 841 			UI_DISP_3Digit(i);
4675  106e 7b01          	ld	a,(OFST+0,sp)
4676  1070 5f            	clrw	x
4677  1071 97            	ld	xl,a
4678  1072 a664          	ld	a,#100
4679  1074 62            	div	x,a
4680  1075 9f            	ld	a,xl
4681  1076 97            	ld	xl,a
4682  1077 a601          	ld	a,#1
4683  1079 95            	ld	xh,a
4684  107a cd0000        	call	_lcd_disp_n
4688  107d 7b01          	ld	a,(OFST+0,sp)
4689  107f 5f            	clrw	x
4690  1080 97            	ld	xl,a
4691  1081 a664          	ld	a,#100
4692  1083 62            	div	x,a
4693  1084 5f            	clrw	x
4694  1085 97            	ld	xl,a
4695  1086 01            	rrwa	x,a
4696  1087 6b01          	ld	(OFST+0,sp),a
4697  1089 02            	rlwa	x,a
4700  108a 7b01          	ld	a,(OFST+0,sp)
4701  108c 5f            	clrw	x
4702  108d 97            	ld	xl,a
4703  108e a60a          	ld	a,#10
4704  1090 62            	div	x,a
4705  1091 9f            	ld	a,xl
4706  1092 97            	ld	xl,a
4707  1093 a602          	ld	a,#2
4708  1095 95            	ld	xh,a
4709  1096 cd0000        	call	_lcd_disp_n
4713  1099 7b01          	ld	a,(OFST+0,sp)
4714  109b 5f            	clrw	x
4715  109c 97            	ld	xl,a
4716  109d a60a          	ld	a,#10
4717  109f 62            	div	x,a
4718  10a0 5f            	clrw	x
4719  10a1 97            	ld	xl,a
4720  10a2 9f            	ld	a,xl
4721  10a3 97            	ld	xl,a
4722  10a4 a603          	ld	a,#3
4723  10a6 95            	ld	xh,a
4724  10a7 cd0000        	call	_lcd_disp_n
4727  10aa               L7341:
4728                     ; 844 	if( key == 4 )		{	STATUS_NEXT(next);	}
4730  10aa 7b02          	ld	a,(OFST+1,sp)
4731  10ac a104          	cp	a,#4
4732  10ae 260f          	jrne	L5541
4735  10b0 7b03          	ld	a,(OFST+2,sp)
4736  10b2 c70008        	ld	__ds,a
4739  10b5 725f0009      	clr	__dsCount
4742  10b9 35ff000a      	mov	__dsPrev,#255
4745  10bd 2018          	jra	L7541
4746  10bf               L5541:
4747                     ; 845 	else if( key == 2 )
4749  10bf 7b02          	ld	a,(OFST+1,sp)
4750  10c1 a102          	cp	a,#2
4751  10c3 2612          	jrne	L7541
4752                     ; 847 		uiInfo.tempOffset = uiInfo._t;
4754  10c5 5500470042    	mov	_uiInfo+66,_uiInfo+71
4755  10ca               L1141:
4756                     ; 849 		STATUS_NEXT(next);
4758  10ca 7b03          	ld	a,(OFST+2,sp)
4759  10cc c70008        	ld	__ds,a
4762  10cf 725f0009      	clr	__dsCount
4765  10d3 35ff000a      	mov	__dsPrev,#255
4767  10d7               L7541:
4768                     ; 851 }
4771  10d7 5b03          	addw	sp,#3
4772  10d9 81            	ret
4835                     ; 854 void	disp_status_valveinfo(uint8_t key, uint8_t next, uint8_t prev)
4835                     ; 855 {
4836                     	switch	.text
4837  10da               _disp_status_valveinfo:
4839  10da 89            	pushw	x
4840  10db 88            	push	a
4841       00000001      OFST:	set	1
4844                     ; 858 	STATUS_CLIENT
4846  10dc 725d000c      	tnz	_uiInfo+12
4847  10e0 2603          	jrne	L211
4848  10e2 cc11d8        	jp	L3641
4849  10e5               L211:
4852                     ; 859 	if( _dsCount == 0 )
4854  10e5 725d0009      	tnz	__dsCount
4855  10e9 2640          	jrne	L1151
4856                     ; 861 		lcd_clear(0);
4858  10eb 4f            	clr	a
4859  10ec cd0000        	call	_lcd_clear
4861                     ; 862 		lcd_disp_n(0, UI_RID+1);
4863  10ef c60032        	ld	a,_uiInfo+50
4864  10f2 4c            	inc	a
4865  10f3 97            	ld	xl,a
4866  10f4 4f            	clr	a
4867  10f5 95            	ld	xh,a
4868  10f6 cd0000        	call	_lcd_disp_n
4870                     ; 863 		lcd_blink_npos(UI_RID+1);
4872  10f9 c60032        	ld	a,_uiInfo+50
4873  10fc 4c            	inc	a
4874  10fd cd0000        	call	_lcd_blink_npos
4876                     ; 864 		UI_RPOS = uiInfo.valve_rc[UI_RID];
4878  1100 c60032        	ld	a,_uiInfo+50
4879  1103 5f            	clrw	x
4880  1104 97            	ld	xl,a
4881  1105 d60022        	ld	a,(_uiInfo+34,x)
4882  1108 c70035        	ld	_uiInfo+53,a
4883                     ; 865 		lcd_disp_rid(UI_RPOS, 1, 0);
4885  110b 4b00          	push	#0
4886  110d ae0001        	ldw	x,#1
4887  1110 c60035        	ld	a,_uiInfo+53
4888  1113 95            	ld	xh,a
4889  1114 cd0000        	call	_lcd_disp_rid
4891  1117 84            	pop	a
4892                     ; 866 		_dsCount = 1;
4894  1118 35010009      	mov	__dsCount,#1
4895                     ; 868 		uiInfo._t = uiInfo.valve_len[UI_RID];
4897  111c c60032        	ld	a,_uiInfo+50
4898  111f 5f            	clrw	x
4899  1120 97            	ld	xl,a
4900  1121 d6001a        	ld	a,(_uiInfo+26,x)
4901  1124 c70047        	ld	_uiInfo+71,a
4903  1127 acae11ae      	jpf	L3151
4904  112b               L1151:
4905                     ; 872 		i = uiInfo.valve_len[UI_RID];
4907  112b c60032        	ld	a,_uiInfo+50
4908  112e 5f            	clrw	x
4909  112f 97            	ld	xl,a
4910  1130 d6001a        	ld	a,(_uiInfo+26,x)
4911  1133 6b01          	ld	(OFST+0,sp),a
4912                     ; 873 		if( uiInfo.enc != 0 )
4914  1135 725d0000      	tnz	_uiInfo
4915  1139 272b          	jreq	L5151
4916                     ; 875 			if( (uiInfo.enc & 0x40) == 0 )	i--;
4918  113b c60000        	ld	a,_uiInfo
4919  113e a540          	bcp	a,#64
4920  1140 2604          	jrne	L7151
4923  1142 0a01          	dec	(OFST+0,sp)
4925  1144 2002          	jra	L1251
4926  1146               L7151:
4927                     ; 877 				i++;
4929  1146 0c01          	inc	(OFST+0,sp)
4930  1148               L1251:
4931                     ; 878 			if( i > 150 )	i = 35;
4933  1148 7b01          	ld	a,(OFST+0,sp)
4934  114a a197          	cp	a,#151
4935  114c 2504          	jrult	L3251
4938  114e a623          	ld	a,#35
4939  1150 6b01          	ld	(OFST+0,sp),a
4940  1152               L3251:
4941                     ; 879 			if( i < 35 )	i = 150;
4943  1152 7b01          	ld	a,(OFST+0,sp)
4944  1154 a123          	cp	a,#35
4945  1156 2404          	jruge	L5251
4948  1158 a696          	ld	a,#150
4949  115a 6b01          	ld	(OFST+0,sp),a
4950  115c               L5251:
4951                     ; 880 			uiInfo.valve_len[UI_RID] = i;
4953  115c c60032        	ld	a,_uiInfo+50
4954  115f 5f            	clrw	x
4955  1160 97            	ld	xl,a
4956  1161 7b01          	ld	a,(OFST+0,sp)
4957  1163 d7001a        	ld	(_uiInfo+26,x),a
4958  1166               L5151:
4959                     ; 882 		if( _dsPrev != i )
4961  1166 c6000a        	ld	a,__dsPrev
4962  1169 1101          	cp	a,(OFST+0,sp)
4963  116b 2741          	jreq	L3151
4964                     ; 884 			_dsPrev = i;
4966  116d 7b01          	ld	a,(OFST+0,sp)
4967  116f c7000a        	ld	__dsPrev,a
4968                     ; 885 			UI_DISP_3Digit(i);
4970  1172 7b01          	ld	a,(OFST+0,sp)
4971  1174 5f            	clrw	x
4972  1175 97            	ld	xl,a
4973  1176 a664          	ld	a,#100
4974  1178 62            	div	x,a
4975  1179 9f            	ld	a,xl
4976  117a 97            	ld	xl,a
4977  117b a601          	ld	a,#1
4978  117d 95            	ld	xh,a
4979  117e cd0000        	call	_lcd_disp_n
4983  1181 7b01          	ld	a,(OFST+0,sp)
4984  1183 5f            	clrw	x
4985  1184 97            	ld	xl,a
4986  1185 a664          	ld	a,#100
4987  1187 62            	div	x,a
4988  1188 5f            	clrw	x
4989  1189 97            	ld	xl,a
4990  118a 01            	rrwa	x,a
4991  118b 6b01          	ld	(OFST+0,sp),a
4992  118d 02            	rlwa	x,a
4995  118e 7b01          	ld	a,(OFST+0,sp)
4996  1190 5f            	clrw	x
4997  1191 97            	ld	xl,a
4998  1192 a60a          	ld	a,#10
4999  1194 62            	div	x,a
5000  1195 9f            	ld	a,xl
5001  1196 97            	ld	xl,a
5002  1197 a602          	ld	a,#2
5003  1199 95            	ld	xh,a
5004  119a cd0000        	call	_lcd_disp_n
5008  119d 7b01          	ld	a,(OFST+0,sp)
5009  119f 5f            	clrw	x
5010  11a0 97            	ld	xl,a
5011  11a1 a60a          	ld	a,#10
5012  11a3 62            	div	x,a
5013  11a4 5f            	clrw	x
5014  11a5 97            	ld	xl,a
5015  11a6 9f            	ld	a,xl
5016  11a7 97            	ld	xl,a
5017  11a8 a603          	ld	a,#3
5018  11aa 95            	ld	xh,a
5019  11ab cd0000        	call	_lcd_disp_n
5022  11ae               L3151:
5023                     ; 888 	if( key == 4 )		
5025  11ae 7b02          	ld	a,(OFST+1,sp)
5026  11b0 a104          	cp	a,#4
5027  11b2 2613          	jrne	L1351
5028                     ; 890 		lcd_blink_npos_clear();
5030  11b4 cd0000        	call	_lcd_blink_npos_clear
5032                     ; 891 		STATUS_NEXT(next);	
5034  11b7 7b03          	ld	a,(OFST+2,sp)
5035  11b9 c70008        	ld	__ds,a
5038  11bc 725f0009      	clr	__dsCount
5041  11c0 35ff000a      	mov	__dsPrev,#255
5044  11c4 cc124b        	jra	L3351
5045  11c7               L1351:
5046                     ; 893 	else if( key == 2 )
5048  11c7 7b02          	ld	a,(OFST+1,sp)
5049  11c9 a102          	cp	a,#2
5050  11cb 261d          	jrne	L5351
5051                     ; 895 		uiInfo.valve_len[UI_RID] = uiInfo._t;
5053  11cd c60032        	ld	a,_uiInfo+50
5054  11d0 5f            	clrw	x
5055  11d1 97            	ld	xl,a
5056  11d2 c60047        	ld	a,_uiInfo+71
5057  11d5 d7001a        	ld	(_uiInfo+26,x),a
5058  11d8               L3641:
5059                     ; 896 next:
5059                     ; 897 		lcd_blink_npos_clear();
5061  11d8 cd0000        	call	_lcd_blink_npos_clear
5063                     ; 898 		STATUS_NEXT(next);
5065  11db 7b03          	ld	a,(OFST+2,sp)
5066  11dd c70008        	ld	__ds,a
5069  11e0 725f0009      	clr	__dsCount
5072  11e4 35ff000a      	mov	__dsPrev,#255
5075  11e8 2061          	jra	L3351
5076  11ea               L5351:
5077                     ; 900 	else if( key == 3 )
5079  11ea 7b02          	ld	a,(OFST+1,sp)
5080  11ec a103          	cp	a,#3
5081  11ee 2630          	jrne	L1451
5082                     ; 902 		UI_RPOS = (UI_RPOS+1) % uiInfo.cnt;
5084  11f0 c60035        	ld	a,_uiInfo+53
5085  11f3 5f            	clrw	x
5086  11f4 97            	ld	xl,a
5087  11f5 5c            	incw	x
5088  11f6 c6000b        	ld	a,_uiInfo+11
5089  11f9 905f          	clrw	y
5090  11fb 9097          	ld	yl,a
5091  11fd cd0000        	call	c_idiv
5093  1200 51            	exgw	x,y
5094  1201 01            	rrwa	x,a
5095  1202 c70035        	ld	_uiInfo+53,a
5096  1205 02            	rlwa	x,a
5097                     ; 903 		lcd_disp_rid(UI_RPOS, 1, 0);
5099  1206 4b00          	push	#0
5100  1208 ae0001        	ldw	x,#1
5101  120b c60035        	ld	a,_uiInfo+53
5102  120e 95            	ld	xh,a
5103  120f cd0000        	call	_lcd_disp_rid
5105  1212 84            	pop	a
5106                     ; 904 		uiInfo.valve_rc[UI_RID] = UI_RPOS; 
5108  1213 c60032        	ld	a,_uiInfo+50
5109  1216 5f            	clrw	x
5110  1217 97            	ld	xl,a
5111  1218 c60035        	ld	a,_uiInfo+53
5112  121b d70022        	ld	(_uiInfo+34,x),a
5114  121e 202b          	jra	L3351
5115  1220               L1451:
5116                     ; 906 	else if( key == 1 )
5118  1220 7b02          	ld	a,(OFST+1,sp)
5119  1222 a101          	cp	a,#1
5120  1224 2625          	jrne	L3351
5121                     ; 908 		lcd_blink_npos_clear();
5123  1226 cd0000        	call	_lcd_blink_npos_clear
5125                     ; 909 		UI_RID = (uint8_t)((UI_RID + 1) % uiInfo.cnt);
5127  1229 c60032        	ld	a,_uiInfo+50
5128  122c 5f            	clrw	x
5129  122d 97            	ld	xl,a
5130  122e 5c            	incw	x
5131  122f c6000b        	ld	a,_uiInfo+11
5132  1232 905f          	clrw	y
5133  1234 9097          	ld	yl,a
5134  1236 cd0000        	call	c_idiv
5136  1239 51            	exgw	x,y
5137  123a 9f            	ld	a,xl
5138  123b c70032        	ld	_uiInfo+50,a
5139                     ; 910 		STATUS_NEXT(prev);
5141  123e 7b06          	ld	a,(OFST+5,sp)
5142  1240 c70008        	ld	__ds,a
5145  1243 725f0009      	clr	__dsCount
5148  1247 35ff000a      	mov	__dsPrev,#255
5150  124b               L3351:
5151                     ; 912 }
5154  124b 5b03          	addw	sp,#3
5155  124d 81            	ret
5206                     ; 914 void	disp_status_run(uint8_t key, uint8_t next, uint8_t prev)
5206                     ; 915 {
5207                     	switch	.text
5208  124e               _disp_status_run:
5210  124e 89            	pushw	x
5211       00000000      OFST:	set	0
5214                     ; 917 	if( _dsCount == 0 )
5216  124f 725d0009      	tnz	__dsCount
5217  1253 260b          	jrne	L1751
5218                     ; 919 		lcd_clear(0);
5220  1255 4f            	clr	a
5221  1256 cd0000        	call	_lcd_clear
5223                     ; 920 		lcd_disp_setup_run();
5225  1259 cd0000        	call	_lcd_disp_setup_run
5227                     ; 921 		_dsCount = 1;
5229  125c 35010009      	mov	__dsCount,#1
5231  1260               L1751:
5232                     ; 926 	if( key == 4 )	{	STATUS_NEXT(next);	}
5234  1260 7b01          	ld	a,(OFST+1,sp)
5235  1262 a104          	cp	a,#4
5236  1264 260f          	jrne	L3751
5239  1266 7b02          	ld	a,(OFST+2,sp)
5240  1268 c70008        	ld	__ds,a
5243  126b 725f0009      	clr	__dsCount
5246  126f 35ff000a      	mov	__dsPrev,#255
5249  1273 2013          	jra	L5751
5250  1275               L3751:
5251                     ; 927 	else if( key == 2 )
5253  1275 7b01          	ld	a,(OFST+1,sp)
5254  1277 a102          	cp	a,#2
5255  1279 260d          	jrne	L5751
5256                     ; 929 		STATUS_NEXT(prev);
5258  127b 7b05          	ld	a,(OFST+5,sp)
5259  127d c70008        	ld	__ds,a
5262  1280 725f0009      	clr	__dsCount
5265  1284 35ff000a      	mov	__dsPrev,#255
5267  1288               L5751:
5268                     ; 931 }
5271  1288 85            	popw	x
5272  1289 81            	ret
5317                     ; 933 void	disp_status_exit(uint8_t key)
5317                     ; 934 {
5318                     	switch	.text
5319  128a               _disp_status_exit:
5321  128a 88            	push	a
5322       00000001      OFST:	set	1
5325                     ; 936 	if( (_t20ms%10) == 0 )
5327  128b c60000        	ld	a,__t20ms
5328  128e 5f            	clrw	x
5329  128f 97            	ld	xl,a
5330  1290 a60a          	ld	a,#10
5331  1292 cd0000        	call	c_smodx
5333  1295 a30000        	cpw	x,#0
5334  1298 2645          	jrne	L7161
5335                     ; 938 		if( _dsPrev != 0 )
5337  129a 725d000a      	tnz	__dsPrev
5338  129e 2702          	jreq	L1261
5339                     ; 939 			return;
5342  12a0 84            	pop	a
5343  12a1 81            	ret
5344  12a2               L1261:
5345                     ; 941 		_dsCount++;
5347  12a2 725c0009      	inc	__dsCount
5348                     ; 942 		_dsPrev = 1;
5350  12a6 3501000a      	mov	__dsPrev,#1
5351                     ; 943 		lcd_clear(0);
5353  12aa 4f            	clr	a
5354  12ab cd0000        	call	_lcd_clear
5356                     ; 944 		for( i=0; i<4; i++ )
5358  12ae 0f01          	clr	(OFST+0,sp)
5359  12b0               L3261:
5360                     ; 945 			lcd_disp_n(i, _dsCount%10);
5362  12b0 c60009        	ld	a,__dsCount
5363  12b3 5f            	clrw	x
5364  12b4 97            	ld	xl,a
5365  12b5 a60a          	ld	a,#10
5366  12b7 62            	div	x,a
5367  12b8 5f            	clrw	x
5368  12b9 97            	ld	xl,a
5369  12ba 9f            	ld	a,xl
5370  12bb 97            	ld	xl,a
5371  12bc 7b01          	ld	a,(OFST+0,sp)
5372  12be 95            	ld	xh,a
5373  12bf cd0000        	call	_lcd_disp_n
5375                     ; 944 		for( i=0; i<4; i++ )
5377  12c2 0c01          	inc	(OFST+0,sp)
5380  12c4 7b01          	ld	a,(OFST+0,sp)
5381  12c6 a104          	cp	a,#4
5382  12c8 25e6          	jrult	L3261
5383                     ; 947 		if( _dsCount == 11 )
5385  12ca c60009        	ld	a,__dsCount
5386  12cd a10b          	cp	a,#11
5387  12cf 2612          	jrne	L3361
5388                     ; 949 			STATUS_NEXT(99);
5390  12d1 35630008      	mov	__ds,#99
5393  12d5 725f0009      	clr	__dsCount
5396  12d9 35ff000a      	mov	__dsPrev,#255
5398  12dd 2004          	jra	L3361
5399  12df               L7161:
5400                     ; 953 		_dsPrev = 0;
5402  12df 725f000a      	clr	__dsPrev
5403  12e3               L3361:
5404                     ; 954 }
5407  12e3 84            	pop	a
5408  12e4 81            	ret
5444                     ; 956 void	disp_status_loop_message(uint8_t i)
5444                     ; 957 {
5445                     	switch	.text
5446  12e5               _disp_status_loop_message:
5448  12e5 88            	push	a
5449       00000000      OFST:	set	0
5452                     ; 958 	lcd_clear_btn();
5454  12e6 cd0000        	call	_lcd_clear_btn
5456                     ; 959 	if( i == 0 )		{	LCD_BIT_SET(bS6);	/*	(0)*/	}
5458  12e9 0d01          	tnz	(OFST+1,sp)
5459  12eb 2610          	jrne	L1561
5462  12ed c60011        	ld	a,_iLF_DEF+17
5463  12f0 5f            	clrw	x
5464  12f1 97            	ld	xl,a
5465  12f2 d6540c        	ld	a,(21516,x)
5466  12f5 ca0011        	or	a,_bLF_DEF+17
5467  12f8 d7540c        	ld	(21516,x),a
5469  12fb 202a          	jra	L3561
5470  12fd               L1561:
5471                     ; 960 	else if( i == 1 )	{	LCD_BIT_SET(bS7);	/*	(1)*/	}
5473  12fd 7b01          	ld	a,(OFST+1,sp)
5474  12ff a101          	cp	a,#1
5475  1301 2610          	jrne	L5561
5478  1303 c60021        	ld	a,_iLF_DEF+33
5479  1306 5f            	clrw	x
5480  1307 97            	ld	xl,a
5481  1308 d6540c        	ld	a,(21516,x)
5482  130b ca0021        	or	a,_bLF_DEF+33
5483  130e d7540c        	ld	(21516,x),a
5485  1311 2014          	jra	L3561
5486  1313               L5561:
5487                     ; 961 	else if( i == 2 )	{	LCD_BIT_SET(bS8);	/*	(2)*/	}
5489  1313 7b01          	ld	a,(OFST+1,sp)
5490  1315 a102          	cp	a,#2
5491  1317 260e          	jrne	L3561
5494  1319 c60031        	ld	a,_iLF_DEF+49
5495  131c 5f            	clrw	x
5496  131d 97            	ld	xl,a
5497  131e d6540c        	ld	a,(21516,x)
5498  1321 ca0031        	or	a,_bLF_DEF+49
5499  1324 d7540c        	ld	(21516,x),a
5500  1327               L3561:
5501                     ; 962 }
5504  1327 84            	pop	a
5505  1328 81            	ret
5539                     ; 965 void	disp_status_loop_init(void)
5539                     ; 966 {
5540                     	switch	.text
5541  1329               _disp_status_loop_init:
5545                     ; 967 	ui_disp_temp_mark(1);
5547  1329 a601          	ld	a,#1
5548  132b cd0000        	call	_ui_disp_temp_mark
5550                     ; 968 	ui_disp_temp_curr(uiInfo.tCurr);
5552  132e c6000d        	ld	a,_uiInfo+13
5553  1331 cd0000        	call	_ui_disp_temp_curr
5555                     ; 969 	ui_disp_temp_setup(uiInfo.tSetup);
5557  1334 c6000e        	ld	a,_uiInfo+14
5558  1337 cd0000        	call	_ui_disp_temp_setup
5560                     ; 970 	disp_status_loop_message(__sUp);
5562  133a c60001        	ld	a,___sUp
5563  133d ada6          	call	_disp_status_loop_message
5565                     ; 971 	lcd_blink_clear();
5567  133f cd0000        	call	_lcd_blink_clear
5569                     ; 972 	lcd_disp_info_fire(_boiler_fire != 0 ? 1 : 0);
5571  1342 725d0000      	tnz	__boiler_fire
5572  1346 2704          	jreq	L421
5573  1348 a601          	ld	a,#1
5574  134a 2001          	jra	L621
5575  134c               L421:
5576  134c 4f            	clr	a
5577  134d               L621:
5578  134d cd0000        	call	_lcd_disp_info_fire
5580                     ; 974 	lcd_disp_rid(uiInfo.id, 1, 0);
5582  1350 4b00          	push	#0
5583  1352 ae0001        	ldw	x,#1
5584  1355 c60001        	ld	a,_uiInfo+1
5585  1358 95            	ld	xh,a
5586  1359 cd0000        	call	_lcd_disp_rid
5588  135c 84            	pop	a
5589                     ; 975 }
5592  135d 81            	ret
5621                     ; 977 void	disp_status_curr_only(void)
5621                     ; 978 {
5622                     	switch	.text
5623  135e               _disp_status_curr_only:
5627                     ; 979 	ui_disp_clear_tSetup(0);
5629  135e 4f            	clr	a
5630  135f cd0000        	call	_ui_disp_clear_tSetup
5632                     ; 980 	LCD_BIT_SET(bS1);
5634  1362 c60003        	ld	a,_iLF_DEF+3
5635  1365 5f            	clrw	x
5636  1366 97            	ld	xl,a
5637  1367 d6540c        	ld	a,(21516,x)
5638  136a ca0003        	or	a,_bLF_DEF+3
5639  136d d7540c        	ld	(21516,x),a
5640                     ; 981 	LCD_BIT_SET(bC1);
5642  1370 c60006        	ld	a,_iLF_DEF+6
5643  1373 5f            	clrw	x
5644  1374 97            	ld	xl,a
5645  1375 d6540c        	ld	a,(21516,x)
5646  1378 ca0006        	or	a,_bLF_DEF+6
5647  137b d7540c        	ld	(21516,x),a
5648                     ; 982 	LCD_BIT_CLEAR(bCOL);
5650  137e c60016        	ld	a,_iLF_DEF+22
5651  1381 5f            	clrw	x
5652  1382 97            	ld	xl,a
5653  1383 c60016        	ld	a,_bLF_DEF+22
5654  1386 43            	cpl	a
5655  1387 d4540c        	and	a,(21516,x)
5656  138a d7540c        	ld	(21516,x),a
5657                     ; 983 	ui_disp_temp_curr(uiInfo.tCurr);
5659  138d c6000d        	ld	a,_uiInfo+13
5660  1390 cd0000        	call	_ui_disp_temp_curr
5662                     ; 984 }
5665  1393 81            	ret
5718                     ; 986 void	disp_status_op_disp(uint8_t key, uint8_t next)
5718                     ; 987 {
5719                     	switch	.text
5720  1394               _disp_status_op_disp:
5722  1394 89            	pushw	x
5723  1395 88            	push	a
5724       00000001      OFST:	set	1
5727                     ; 989 	if( (_t20ms%10) == 0 )
5729  1396 c60000        	ld	a,__t20ms
5730  1399 5f            	clrw	x
5731  139a 97            	ld	xl,a
5732  139b a60a          	ld	a,#10
5733  139d cd0000        	call	c_smodx
5735  13a0 a30000        	cpw	x,#0
5736  13a3 2644          	jrne	L3271
5737                     ; 991 		if( _dsPrev != 0 )
5739  13a5 725d000a      	tnz	__dsPrev
5740  13a9 2642          	jrne	L431
5741                     ; 992 			return;
5743                     ; 994 		_dsCount++;
5745  13ab 725c0009      	inc	__dsCount
5746                     ; 995 		_dsPrev = 1;
5748  13af 3501000a      	mov	__dsPrev,#1
5749                     ; 996 		lcd_clear(0);
5751  13b3 4f            	clr	a
5752  13b4 cd0000        	call	_lcd_clear
5754                     ; 997 		for( i=0; i<4; i++ )
5756  13b7 0f01          	clr	(OFST+0,sp)
5757  13b9               L7271:
5758                     ; 998 			lcd_disp_n(i, _dsCount%10);
5760  13b9 c60009        	ld	a,__dsCount
5761  13bc 5f            	clrw	x
5762  13bd 97            	ld	xl,a
5763  13be a60a          	ld	a,#10
5764  13c0 62            	div	x,a
5765  13c1 5f            	clrw	x
5766  13c2 97            	ld	xl,a
5767  13c3 9f            	ld	a,xl
5768  13c4 97            	ld	xl,a
5769  13c5 7b01          	ld	a,(OFST+0,sp)
5770  13c7 95            	ld	xh,a
5771  13c8 cd0000        	call	_lcd_disp_n
5773                     ; 997 		for( i=0; i<4; i++ )
5775  13cb 0c01          	inc	(OFST+0,sp)
5778  13cd 7b01          	ld	a,(OFST+0,sp)
5779  13cf a104          	cp	a,#4
5780  13d1 25e6          	jrult	L7271
5781                     ; 1000 		if( _dsCount == 11 )
5783  13d3 c60009        	ld	a,__dsCount
5784  13d6 a10b          	cp	a,#11
5785  13d8 2613          	jrne	L7371
5786                     ; 1002 			STATUS_NEXT(next);
5788  13da 7b03          	ld	a,(OFST+2,sp)
5789  13dc c70008        	ld	__ds,a
5792  13df 725f0009      	clr	__dsCount
5795  13e3 35ff000a      	mov	__dsPrev,#255
5797  13e7 2004          	jra	L7371
5798  13e9               L3271:
5799                     ; 1007 		_dsPrev = 0;
5801  13e9 725f000a      	clr	__dsPrev
5802  13ed               L7371:
5803                     ; 1008 }
5804  13ed               L431:
5807  13ed 5b03          	addw	sp,#3
5808  13ef 81            	ret
5840                     ; 1010 void	disp_status_2nd(uint8_t key, uint8_t next)
5840                     ; 1011 {
5841                     	switch	.text
5842  13f0               _disp_status_2nd:
5846                     ; 1012 }
5849  13f0 81            	ret
5922                     ; 1018 void	disp_status(uint8_t key)
5922                     ; 1019 {
5923                     	switch	.text
5924  13f1               _disp_status:
5926  13f1 88            	push	a
5927  13f2 88            	push	a
5928       00000001      OFST:	set	1
5931                     ; 1021 	if( _ds == 0 )			disp_status_init(key, 1);
5933  13f3 725d0008      	tnz	__ds
5934  13f7 260b          	jrne	L3771
5937  13f9 ae0001        	ldw	x,#1
5938  13fc 95            	ld	xh,a
5939  13fd cd0154        	call	_disp_status_init
5942  1400 acec15ec      	jpf	L5771
5943  1404               L3771:
5944                     ; 1022 	else if( _ds == 1 )		disp_status_id(key, 36);
5946  1404 c60008        	ld	a,__ds
5947  1407 a101          	cp	a,#1
5948  1409 260d          	jrne	L7771
5951  140b ae0024        	ldw	x,#36
5952  140e 7b02          	ld	a,(OFST+1,sp)
5953  1410 95            	ld	xh,a
5954  1411 cd01b0        	call	_disp_status_id
5957  1414 acec15ec      	jpf	L5771
5958  1418               L7771:
5959                     ; 1023 	else if( _ds == 3 )		disp_status_meter(key, 4, 3);
5961  1418 c60008        	ld	a,__ds
5962  141b a103          	cp	a,#3
5963  141d 2610          	jrne	L3002
5966  141f 4b03          	push	#3
5967  1421 ae0004        	ldw	x,#4
5968  1424 7b03          	ld	a,(OFST+2,sp)
5969  1426 95            	ld	xh,a
5970  1427 cd030a        	call	_disp_status_meter
5972  142a 84            	pop	a
5974  142b acec15ec      	jpf	L5771
5975  142f               L3002:
5976                     ; 1024 	else if( _ds == 4 )		disp_status_maxValve(key, 6);
5978  142f c60008        	ld	a,__ds
5979  1432 a104          	cp	a,#4
5980  1434 260d          	jrne	L7002
5983  1436 ae0006        	ldw	x,#6
5984  1439 7b02          	ld	a,(OFST+1,sp)
5985  143b 95            	ld	xh,a
5986  143c cd04bb        	call	_disp_status_maxValve
5989  143f acec15ec      	jpf	L5771
5990  1443               L7002:
5991                     ; 1029 	else if( _ds == 6 )		disp_status_toffset(key, 10);
5993  1443 c60008        	ld	a,__ds
5994  1446 a106          	cp	a,#6
5995  1448 260d          	jrne	L3102
5998  144a ae000a        	ldw	x,#10
5999  144d 7b02          	ld	a,(OFST+1,sp)
6000  144f 95            	ld	xh,a
6001  1450 cd058b        	call	_disp_status_toffset
6004  1453 acec15ec      	jpf	L5771
6005  1457               L3102:
6006                     ; 1030 	else if( _ds == 7 )		disp_status_link(key, 9, 7);
6008  1457 c60008        	ld	a,__ds
6009  145a a107          	cp	a,#7
6010  145c 2610          	jrne	L7102
6013  145e 4b07          	push	#7
6014  1460 ae0009        	ldw	x,#9
6015  1463 7b03          	ld	a,(OFST+2,sp)
6016  1465 95            	ld	xh,a
6017  1466 cd06b2        	call	_disp_status_link
6019  1469 84            	pop	a
6021  146a acec15ec      	jpf	L5771
6022  146e               L7102:
6023                     ; 1035 	else if( _ds == 20 )	disp_status_2nd(key, 10);
6025  146e c60008        	ld	a,__ds
6026  1471 a114          	cp	a,#20
6027  1473 260d          	jrne	L3202
6030  1475 ae000a        	ldw	x,#10
6031  1478 7b02          	ld	a,(OFST+1,sp)
6032  147a 95            	ld	xh,a
6033  147b cd13f0        	call	_disp_status_2nd
6036  147e acec15ec      	jpf	L5771
6037  1482               L3202:
6038                     ; 1036 	else if( _ds == 9 )		disp_status_run_op(key, 61);
6040  1482 c60008        	ld	a,__ds
6041  1485 a109          	cp	a,#9
6042  1487 260d          	jrne	L7202
6045  1489 ae003d        	ldw	x,#61
6046  148c 7b02          	ld	a,(OFST+1,sp)
6047  148e 95            	ld	xh,a
6048  148f cd0c9b        	call	_disp_status_run_op
6051  1492 acec15ec      	jpf	L5771
6052  1496               L7202:
6053                     ; 1037 	else if( _ds == 61 )	disp_status_cntl_op(key, 62);
6055  1496 c60008        	ld	a,__ds
6056  1499 a13d          	cp	a,#61
6057  149b 260d          	jrne	L3302
6060  149d ae003e        	ldw	x,#62
6061  14a0 7b02          	ld	a,(OFST+1,sp)
6062  14a2 95            	ld	xh,a
6063  14a3 cd0d35        	call	_disp_status_cntl_op
6066  14a6 acec15ec      	jpf	L5771
6067  14aa               L3302:
6068                     ; 1038 	else if( _ds == 62 )	disp_status_cnt(key, 63);
6070  14aa c60008        	ld	a,__ds
6071  14ad a13e          	cp	a,#62
6072  14af 260d          	jrne	L7302
6075  14b1 ae003f        	ldw	x,#63
6076  14b4 7b02          	ld	a,(OFST+1,sp)
6077  14b6 95            	ld	xh,a
6078  14b7 cd0256        	call	_disp_status_cnt
6081  14ba acec15ec      	jpf	L5771
6082  14be               L7302:
6083                     ; 1039 	else if( _ds == 63 )	disp_status_len(key, 64);
6085  14be c60008        	ld	a,__ds
6086  14c1 a13f          	cp	a,#63
6087  14c3 260d          	jrne	L3402
6090  14c5 ae0040        	ldw	x,#64
6091  14c8 7b02          	ld	a,(OFST+1,sp)
6092  14ca 95            	ld	xh,a
6093  14cb cd0dcf        	call	_disp_status_len
6096  14ce acec15ec      	jpf	L5771
6097  14d2               L3402:
6098                     ; 1040 	else if( _ds == 64 )	disp_status_po_type(key, 65);
6100  14d2 c60008        	ld	a,__ds
6101  14d5 a140          	cp	a,#64
6102  14d7 260d          	jrne	L7402
6105  14d9 ae0041        	ldw	x,#65
6106  14dc 7b02          	ld	a,(OFST+1,sp)
6107  14de 95            	ld	xh,a
6108  14df cd0e9b        	call	_disp_status_po_type
6111  14e2 acec15ec      	jpf	L5771
6112  14e6               L7402:
6113                     ; 1041 	else if( _ds == 65 )	disp_status_lpm(key, 66);
6115  14e6 c60008        	ld	a,__ds
6116  14e9 a141          	cp	a,#65
6117  14eb 260d          	jrne	L3502
6120  14ed ae0042        	ldw	x,#66
6121  14f0 7b02          	ld	a,(OFST+1,sp)
6122  14f2 95            	ld	xh,a
6123  14f3 cd0f3c        	call	_disp_status_lpm
6126  14f6 acec15ec      	jpf	L5771
6127  14fa               L3502:
6128                     ; 1042 	else if( _ds == 66 )	disp_status_temp_offset(key, 67);
6130  14fa c60008        	ld	a,__ds
6131  14fd a142          	cp	a,#66
6132  14ff 260d          	jrne	L7502
6135  1501 ae0043        	ldw	x,#67
6136  1504 7b02          	ld	a,(OFST+1,sp)
6137  1506 95            	ld	xh,a
6138  1507 cd100e        	call	_disp_status_temp_offset
6141  150a acec15ec      	jpf	L5771
6142  150e               L7502:
6143                     ; 1043 	else if( _ds == 67 )	disp_status_valveinfo(key, 10, 67);
6145  150e c60008        	ld	a,__ds
6146  1511 a143          	cp	a,#67
6147  1513 2610          	jrne	L3602
6150  1515 4b43          	push	#67
6151  1517 ae000a        	ldw	x,#10
6152  151a 7b03          	ld	a,(OFST+2,sp)
6153  151c 95            	ld	xh,a
6154  151d cd10da        	call	_disp_status_valveinfo
6156  1520 84            	pop	a
6158  1521 acec15ec      	jpf	L5771
6159  1525               L3602:
6160                     ; 1045 	else if( _ds == 10 )	disp_status_run(key, 11, 1);
6162  1525 c60008        	ld	a,__ds
6163  1528 a10a          	cp	a,#10
6164  152a 2610          	jrne	L7602
6167  152c 4b01          	push	#1
6168  152e ae000b        	ldw	x,#11
6169  1531 7b03          	ld	a,(OFST+2,sp)
6170  1533 95            	ld	xh,a
6171  1534 cd124e        	call	_disp_status_run
6173  1537 84            	pop	a
6175  1538 acec15ec      	jpf	L5771
6176  153c               L7602:
6177                     ; 1046 	else if( _ds == 11 )	disp_status_exit(key);
6179  153c c60008        	ld	a,__ds
6180  153f a10b          	cp	a,#11
6181  1541 2609          	jrne	L3702
6184  1543 7b02          	ld	a,(OFST+1,sp)
6185  1545 cd128a        	call	_disp_status_exit
6188  1548 acec15ec      	jpf	L5771
6189  154c               L3702:
6190                     ; 1047 	else if( _ds == 36 )	disp_status_toffset(key, 10);
6192  154c c60008        	ld	a,__ds
6193  154f a124          	cp	a,#36
6194  1551 260d          	jrne	L7702
6197  1553 ae000a        	ldw	x,#10
6198  1556 7b02          	ld	a,(OFST+1,sp)
6199  1558 95            	ld	xh,a
6200  1559 cd058b        	call	_disp_status_toffset
6203  155c acec15ec      	jpf	L5771
6204  1560               L7702:
6205                     ; 1048 	else if( _ds == 100 )	
6207  1560 c60008        	ld	a,__ds
6208  1563 a164          	cp	a,#100
6209  1565 2609          	jrne	L3012
6210                     ; 1051 		ui_Open();
6212  1567 cd0019        	call	_ui_Open
6214                     ; 1052 		_ds = 99;
6216  156a 35630008      	mov	__ds,#99
6218  156e 207c          	jra	L5771
6219  1570               L3012:
6220                     ; 1054 	else if( _ds == 99 )
6222  1570 c60008        	ld	a,__ds
6223  1573 a163          	cp	a,#99
6224  1575 2631          	jrne	L7012
6225                     ; 1056 		t = getCurrTemp();
6227  1577 cd0000        	call	_getCurrTemp
6229  157a 6b01          	ld	(OFST+0,sp),a
6230                     ; 1057 		if( uiInfo.tCurr != t )
6232  157c c6000d        	ld	a,_uiInfo+13
6233  157f 1101          	cp	a,(OFST+0,sp)
6234  1581 2711          	jreq	L1112
6235                     ; 1059 			uiInfo.tCurr = t;
6237  1583 7b01          	ld	a,(OFST+0,sp)
6238  1585 c7000d        	ld	_uiInfo+13,a
6239                     ; 1060 			if( _remote == 0 )
6241  1588 725d0000      	tnz	__remote
6242  158c 2606          	jrne	L1112
6243                     ; 1062 				ui_disp_temp_curr(uiInfo.tCurr);
6245  158e c6000d        	ld	a,_uiInfo+13
6246  1591 cd0000        	call	_ui_disp_temp_curr
6248  1594               L1112:
6249                     ; 1066 		if( uiInfo.mode == 0 )	disp_status_loop_client(key);
6251  1594 725d000c      	tnz	_uiInfo+12
6252  1598 2607          	jrne	L5112
6255  159a 7b02          	ld	a,(OFST+1,sp)
6256  159c cd0000        	call	_disp_status_loop_client
6259  159f 204b          	jra	L5771
6260  15a1               L5112:
6261                     ; 1068 			disp_status_loop_host(key);
6263  15a1 7b02          	ld	a,(OFST+1,sp)
6264  15a3 cd0000        	call	_disp_status_loop_host
6266  15a6 2044          	jra	L5771
6267  15a8               L7012:
6268                     ; 1070 	else if( _ds == 122 )
6270  15a8 c60008        	ld	a,__ds
6271  15ab a17a          	cp	a,#122
6272  15ad 260e          	jrne	L3212
6273                     ; 1072 		STATUS_NEXT(1);
6275  15af 35010008      	mov	__ds,#1
6278  15b3 725f0009      	clr	__dsCount
6281  15b7 35ff000a      	mov	__dsPrev,#255
6284  15bb 202f          	jra	L5771
6285  15bd               L3212:
6286                     ; 1074 	else if( _ds == 121 )
6288  15bd c60008        	ld	a,__ds
6289  15c0 a179          	cp	a,#121
6290  15c2 260e          	jrne	L7212
6291                     ; 1076 		STATUS_NEXT(20);
6293  15c4 35140008      	mov	__ds,#20
6296  15c8 725f0009      	clr	__dsCount
6299  15cc 35ff000a      	mov	__dsPrev,#255
6302  15d0 201a          	jra	L5771
6303  15d2               L7212:
6304                     ; 1078 	else if( _ds == 120 )
6306  15d2 c60008        	ld	a,__ds
6307  15d5 a178          	cp	a,#120
6308  15d7 260e          	jrne	L3312
6309                     ; 1080 		STATUS_NEXT(9);	//	OP
6311  15d9 35090008      	mov	__ds,#9
6314  15dd 725f0009      	clr	__dsCount
6317  15e1 35ff000a      	mov	__dsPrev,#255
6320  15e5 2005          	jra	L5771
6321  15e7               L3312:
6322                     ; 1082 	else if( _ds == 50 )
6324  15e7 c60008        	ld	a,__ds
6325  15ea a132          	cp	a,#50
6326  15ec               L5771:
6327                     ; 1089 	lcd_blinkCb();
6329  15ec cd0000        	call	_lcd_blinkCb
6331                     ; 1092 	uiInfo.enc = 0;
6333  15ef 725f0000      	clr	_uiInfo
6334                     ; 1094 	if( key == 0 )
6336  15f3 0d02          	tnz	(OFST+1,sp)
6337  15f5 2603cc1681    	jreq	L241
6338                     ; 1095 		return;
6340                     ; 1097 	if( key == _keypwMaster[_keypwIndexMaster] )
6342  15fa c60005        	ld	a,__keypwIndexMaster
6343  15fd 5f            	clrw	x
6344  15fe 97            	ld	xl,a
6345  15ff d60000        	ld	a,(__keypwMaster,x)
6346  1602 1102          	cp	a,(OFST+1,sp)
6347  1604 261d          	jrne	L3412
6348                     ; 1099 		uiInfo.id = 0;
6350  1606 725f0001      	clr	_uiInfo+1
6351                     ; 1100 		_keypwIndexMaster++;
6353  160a 725c0005      	inc	__keypwIndexMaster
6354                     ; 1101 		if( _keypwIndexMaster == 6 )
6356  160e c60005        	ld	a,__keypwIndexMaster
6357  1611 a106          	cp	a,#6
6358  1613 2612          	jrne	L7412
6359                     ; 1103 			_ds = 120;
6361  1615 35780008      	mov	__ds,#120
6362                     ; 1104 			_keypwIndexMaster = 0;
6364  1619 725f0005      	clr	__keypwIndexMaster
6365                     ; 1105 			uiInfo.mode = 1;
6367  161d 3501000c      	mov	_uiInfo+12,#1
6368  1621 2004          	jra	L7412
6369  1623               L3412:
6370                     ; 1109 		_keypwIndexMaster = 0;
6372  1623 725f0005      	clr	__keypwIndexMaster
6373  1627               L7412:
6374                     ; 1111 	if( key == _keypwMaster2[_keypwIndexMaster2] )
6376  1627 c60006        	ld	a,__keypwIndexMaster2
6377  162a 5f            	clrw	x
6378  162b 97            	ld	xl,a
6379  162c d60006        	ld	a,(__keypwMaster2,x)
6380  162f 1102          	cp	a,(OFST+1,sp)
6381  1631 261d          	jrne	L1512
6382                     ; 1113 		uiInfo.id = 0;
6384  1633 725f0001      	clr	_uiInfo+1
6385                     ; 1114 		_keypwIndexMaster2++;
6387  1637 725c0006      	inc	__keypwIndexMaster2
6388                     ; 1115 		if( _keypwIndexMaster2 == 6 )
6390  163b c60006        	ld	a,__keypwIndexMaster2
6391  163e a106          	cp	a,#6
6392  1640 2612          	jrne	L5512
6393                     ; 1117 			_ds = 121;
6395  1642 35790008      	mov	__ds,#121
6396                     ; 1118 			_keypwIndexMaster2 = 0;
6398  1646 725f0006      	clr	__keypwIndexMaster2
6399                     ; 1119 			uiInfo.mode = 1;
6401  164a 3501000c      	mov	_uiInfo+12,#1
6402  164e 2004          	jra	L5512
6403  1650               L1512:
6404                     ; 1123 		_keypwIndexMaster2 = 0;
6406  1650 725f0006      	clr	__keypwIndexMaster2
6407  1654               L5512:
6408                     ; 1125 	if( key == _keypwClient[_keypwIndexClient] )
6410  1654 c60007        	ld	a,__keypwIndexClient
6411  1657 5f            	clrw	x
6412  1658 97            	ld	xl,a
6413  1659 d6000c        	ld	a,(__keypwClient,x)
6414  165c 1102          	cp	a,(OFST+1,sp)
6415  165e 261d          	jrne	L7512
6416                     ; 1127 		uiInfo.id = 0xff;
6418  1660 35ff0001      	mov	_uiInfo+1,#255
6419                     ; 1128 		_keypwIndexClient++;
6421  1664 725c0007      	inc	__keypwIndexClient
6422                     ; 1129 		if( _keypwIndexClient == 6 )
6424  1668 c60007        	ld	a,__keypwIndexClient
6425  166b a106          	cp	a,#6
6426  166d 2612          	jrne	L3612
6427                     ; 1131 			_ds = 122;
6429  166f 357a0008      	mov	__ds,#122
6430                     ; 1132 			_keypwIndexClient = 0;
6432  1673 725f0007      	clr	__keypwIndexClient
6433                     ; 1133 			uiInfo.mode = 0;
6435  1677 725f000c      	clr	_uiInfo+12
6436  167b 2004          	jra	L3612
6437  167d               L7512:
6438                     ; 1137 		_keypwIndexClient = 0;
6440  167d 725f0007      	clr	__keypwIndexClient
6441  1681               L3612:
6442                     ; 1138 }
6443  1681               L241:
6446  1681 85            	popw	x
6447  1682 81            	ret
6579                     	xref	__remote
6580                     	xref	_getCurrTemp
6581                     	xref	__boiler_fire
6582                     	xdef	__keypwIndexClient
6583                     	xdef	__keypwIndexMaster2
6584                     	xdef	__keypwIndexMaster
6585                     	xdef	__keypwClient
6586                     	xdef	__keypwMaster2
6587                     	xdef	__keypwMaster
6588                     	xdef	_disp_status_2nd
6589                     	xdef	_disp_status_op_disp
6590                     	xdef	_disp_status_curr_only
6591                     	xdef	_disp_status_loop_init
6592                     	xdef	_disp_status_loop_message
6593                     	xdef	_disp_status_exit
6594                     	xdef	_disp_status_run
6595                     	xdef	_disp_status_valveinfo
6596                     	xdef	_disp_status_temp_offset
6597                     	xdef	_disp_status_lpm
6598                     	xdef	_disp_status_po_type
6599                     	xdef	_disp_status_len
6600                     	xdef	_disp_status_cntl_op
6601                     	xdef	_disp_status_run_op
6602                     	xdef	_disp_status_link
6603                     	xdef	_disp_status_toffset
6604                     	xdef	_disp_status_maxValve
6605                     	xdef	_disp_status_meter
6606                     	xdef	_disp_status_cnt
6607                     	xdef	_disp_status_id
6608                     	xdef	_disp_status_init
6609                     	xdef	_clear_npos2
6610                     	xdef	_clear_npos1
6611                     	xdef	__dsPrev
6612                     	xdef	__dsCount
6613                     	xdef	__ds
6614                     	xdef	_ui_Open
6615                     	xdef	_ui_room_clear
6616                     	xref	_disp_status_loop_client
6617                     	xref	_disp_status_loop_host
6618                     	xdef	_ui_getInfo
6619                     	xdef	___sRoom
6620                     	xdef	___sInfo
6621                     	xdef	___sDn
6622                     	xdef	___sUp
6623                     	xdef	___s
6624                     	xref	_lcd_blink_npos
6625                     	xref	_lcd_blink_npos_clear
6626                     	xref	_lcd_disp_info_fire
6627                     	xref	_ui_disp_clear_tSetup
6628                     	xref	_ui_disp_temp_mark
6629                     	xref	_ui_disp_temp_curr
6630                     	xref	_ui_disp_temp_setup
6631                     	xref	_lcd_blinkCb
6632                     	xref	_lcd_blink_item
6633                     	xref	_lcd_blink_clear
6634                     	xdef	_disp_status
6635                     	xref	_lcd_clear_npos
6636                     	xref	_lcd_disp_rid
6637                     	xref	_lcd_disp_n
6638                     	xref	_lcd_clear
6639                     	xref	_lcd_disp_setup_mode_each
6640                     	xref	_lcd_disp_setup_mode_local
6641                     	xref	_lcd_disp_setup_cnt
6642                     	xref	_lcd_disp_setup_m
6643                     	xref	_lcd_disp_setup_id
6644                     	xref	_lcd_disp_setup_mode
6645                     	xref	_lcd_disp_setup_run
6646                     	xref	_lcd_disp_setup_c
6647                     	xref	_lcd_disp_setup_maxValue
6648                     	xref	_lcd_disp_setup_link
6649                     	xref	_lcd_disp_setup_cntl_po
6650                     	xref	_lcd_disp_setup_cntl_on
6651                     	xref	_lcd_disp_setup_cntl_op
6652                     	xref	_lcd_disp_setup_len
6653                     	xref	_lcd_disp_setup_po_type_pb
6654                     	xref	_lcd_disp_setup_po_type_pe
6655                     	xref	_lcd_disp_setup_po_type_xl
6656                     	xref	_lcd_disp_setup_po_type
6657                     	xref	_lcd_disp_setup_temp_offset
6658                     	xref	_lcd_disp_setup_lpm
6659                     	xref	_lcd_clear_btn
6660                     	xref	__rid
6661                     	xref	_iLF_DEF
6662                     	xref	_bLF_DEF
6663                     	switch	.bss
6664  0000               _uiInfo:
6665  0000 000000000000  	ds.b	88
6666                     	xdef	_uiInfo
6667                     	xref	__t20ms
6668                     	xref.b	c_x
6688                     	xref	c_idiv
6689                     	xref	c_smodx
6690                     	end
